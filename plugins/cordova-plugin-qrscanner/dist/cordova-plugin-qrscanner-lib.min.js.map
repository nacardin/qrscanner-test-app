{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cordova-plugin-qrscanner-lib.min.js","webpack:///webpack/bootstrap c95ca805c66d7f2c6105","webpack:///./~/webrtc-adapter/src/js/utils.js","webpack:///./src/browser/src/createQRScannerInternal.js","webpack:///./src/common/src/createQRScannerAdapter.js","webpack:///./src/browser/worker.min.js","webpack:///./~/sdp/sdp.js","webpack:///./~/webrtc-adapter/src/js/adapter_core.js","webpack:///./~/webrtc-adapter/src/js/chrome/chrome_shim.js","webpack:///./~/webrtc-adapter/src/js/chrome/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/edge/edge_shim.js","webpack:///./~/webrtc-adapter/src/js/edge/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/firefox/firefox_shim.js","webpack:///./~/webrtc-adapter/src/js/firefox/getusermedia.js","webpack:///./~/webrtc-adapter/src/js/safari/safari_shim.js","webpack:///./src/browser/src/library.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","logDisabled_","utils","disableLog","bool","Error","log","window","console","apply","arguments","extractVersion","uastring","expr","pos","match","length","parseInt","detectBrowser","result","browser","version","navigator","mozGetUserMedia","userAgent","webkitGetUserMedia","webkitRTCPeerConnection","mediaDevices","browserDetails","workerScript","killStream","mediaStream","getTracks","forEach","track","stop","getCameraSpecsById","deviceId","getConstraintObj","facingMode","width","height","obj","audio","video","exact","getFirstResolvingConstraint","constraintsBestToWorst","Promise","resolveBestConstraints","reduce","chain","next","then","searchState","found","nextConstraint","getUserMedia","resolve","facingModeConstraints","facingModes","map","mode","widthConstraints","standardWidthsAndHeights","heightConstraints","facingModeSpecs","widthSpecs","heightSpecs","chooseCameras","devices","enumerateDevices","mediaDeviceInfoList","videoDeviceIds","filter","elem","kind","searches","id","push","all","cameraSpecsArray","camera","sort","a","b","bestToWorstCameras","backCamera","frontCamera","splice","mediaStreamIsActive","activeMediaStream","killActiveMediaStream","getVideoPreview","document","getElementById","ELEMENTS","preview","getImg","still","getCurrentCameraIndex","currentCamera","getCurrentCamera","bringStillToFront","img","style","visibility","previewing","bringPreviewToFront","isInitialized","canChangeCamera","calcStatus","authorized","denied","restricted","prepared","scanning","showing","lightEnabled","canOpenSettings","canEnableLight","toString","startCamera","success","error","currentCameraIndex","ideal","src","URL","createObjectURL","err","code","getTempCanvasAndContext","videoElement","tempCanvas","createElement","tempCanvasContext","getContext","drawImage","canvas","context","getCurrentImageData","snapshot","getImageData","captureCurrentFrame","toDataURL","initialize","scanWorker","workerBlob","Blob","type","Worker","videoPreview","setAttribute","ZINDEXES","addEventListener","stillImg","body","appendChild","cameras","prepare","show","showCamera","hide","scan","ignore","returned","onmessage","event","data","thisScanCycle","postMessage","cancelNextScan","SCAN_INTERVAL","QRScanner_SCAN_INTERVAL","nextScan","setTimeout","sendError","clearTimeout","cancelScan","pausePreview","pause","Image","backgroundImage","resumePreview","enableLight","disableLight","useCamera","array","requestedCamera","initialized","status","openSettings","getStatus","destroy","remove","cordova","stringToBool","string","convertStatus","statusDictionary","clearBackground","backgroundColor","parentNode","errorCallback","callback","errorCode","QRScannerError","_message","successCallback","statusDict","doneCallback","clear","exec","index","useFrontCamera","useBackCamera","SDPUtils","generateIdentifier","Math","random","substr","localCName","splitLines","blob","trim","split","line","splitSections","parts","part","matchPrefix","prefix","indexOf","parseCandidate","substring","candidate","foundation","component","protocol","toLowerCase","priority","ip","port","relatedAddress","relatedPort","tcpType","writeCandidate","sdp","toUpperCase","join","parseRtpMap","parsed","payloadType","shift","clockRate","numChannels","writeRtpMap","codec","pt","undefined","preferredPayloadType","parseExtmap","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","keys","params","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getDtlsParameters","mediaSection","sessionpart","concat","fpLine","dtlsParameters","role","fingerprints","algorithm","writeDtlsParameters","setupType","fp","getIceParameters","iceParameters","usernameFragment","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","writeSessionBoilerplate","writeMediaSection","transceiver","stream","iceGatherer","getLocalParameters","dtlsTransport","mid","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","logging","chromeShim","edgeShim","firefoxShim","safariShim","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","MediaStream","webkitMediaStream","RTCPeerConnection","_ontrack","set","f","self","removeEventListener","_ontrackpoly","e","te","Event","receiver","streams","dispatchEvent","bind","HTMLMediaElement","_srcObject","revokeObjectURL","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","pc","origGetStats","getStats","selector","args","fixChromeStats_","response","standardReport","reports","report","standardStats","timestamp","names","stat","makeMapStats","stats","legacyStats","Map","key","successCallbackWrapper_","reject","generateCertificate","method","nativeMethod","opts","promise","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","constraintsToChrome_","mandatory","optional","cc","r","min","max","oldname_","charAt","slice","oc","mix","advanced","shimConstraints_","constraints","func","face","getSupportedConstraints","back","find","label","shimError_","PermissionDeniedError","ConstraintNotSatisfiedError","message","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","origGetUserMedia","cs","getAudioTracks","getVideoTracks","DOMException","RTCIceGatherer","origMSTEnabled","getOwnPropertyDescriptor","ev","enabled","config","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onnegotiationneeded","ondatachannel","localStreams","remoteStreams","getLocalStreams","getRemoteStreams","localDescription","remoteDescription","signalingState","iceConnectionState","iceGatheringState","iceOptions","gatherPolicy","iceServers","TypeError","usingBundle","bundlePolicy","server","urls","url","_config","transceivers","_localIceCandidatesBuffer","_emitBufferedCandidates","sections","end","sdpMLineIndex","complete","every","state","getConfiguration","addStream","clonedStream","clone","idx","clonedTrack","_maybeFireNegotiationNeeded","removeStream","getSenders","getReceivers","_getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","lCodec","rCodec","lHeaderExtension","rHeaderExtension","_createIceAndDtlsTransports","iceTransport","RTCIceTransport","onlocalcandidate","evt","sdpMid","cand","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_transceive","send","recv","encodings","cname","recvEncodingParameters","receive","setLocalDescription","_pendingOffer","isIceLite","rejected","isDatachannel","remoteIceParameters","cands","setRemoteCandidates","remoteDtlsParameters","start","_updateSignalingState","hasCallback","cb","setRemoteDescription","receiverList","direction","remoteSsrc","isComplete","addTrack","transports","RTCRtpReceiver","getCapabilities","localTrack","RTCRtpSender","item","trackEvent","close","newState","states","new","closed","connecting","checking","connected","completed","failed","disconnected","createOffer","offerOptions","tracks","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","wantReceive","t","desc","createAnswer","mLineIndex","addRemoteCandidate","promises","results","res","catch","mozSrcObject","mozRTCPeerConnection","newIceServers","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","nativeGetStats","onSucc","onErr","SecurityError","The operation is insecure.","constraintsToFF37_","require","infos","orgEnumerateDevices","warn","QRScanner","getFunc","createQRScannerAdapter","createQRScannerInternal","internal","functionList","shimCordova","className","functionName","inputArray","adapter"],"mappings":"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","file":"cordova-plugin-qrscanner-lib.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"QRScanner\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"QRScanner\"] = factory();\n\telse\n\t\troot[\"QRScanner\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"QRScanner\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"QRScanner\"] = factory();\n\telse\n\t\troot[\"QRScanner\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/([0-9]+)\\./, 1);\n\n    // all webkit-based browsers\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\n      // Safari or unknown webkit-based\n      // for the time being Safari has support for MediaStreams but not webRTC\n      } else {\n        // Safari UA substrings of interest for reference:\n        // - webkit version:           AppleWebKit/602.1.25 (also used in Op,Cr)\n        // - safari UI version:        Version/9.0.3 (unique to Safari)\n        // - safari UI webkit version: Safari/601.4.4 (also used in Op,Cr)\n        //\n        // if the webkit version and safari UI webkit versions are equals,\n        // ... this is a stable version.\n        //\n        // only the internal webkit version is important today to know if\n        // media streams are supported\n        //\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/([0-9]+)\\./, 1);\n\n        // unknown webkit-based browser\n        } else {\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n\n    // Edge.\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n\n    // Default fallthrough: not supported.\n    } else {\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(5);\r\nvar workerScript = __webpack_require__(3);\r\n\r\nmodule.exports = function(){\r\n\r\n  var ELEMENTS = {\r\n    preview: 'cordova-plugin-qrscanner-video-preview',\r\n    still: 'cordova-plugin-qrscanner-still'\r\n  };\r\n  var ZINDEXES = {\r\n    preview: -100,\r\n    still: -99\r\n  };\r\n  var backCamera = null;\r\n  var frontCamera = null;\r\n  var currentCamera = 0;\r\n  var activeMediaStream = null;\r\n  var scanning = false;\r\n  var previewing = false;\r\n  var scanWorker = null;\r\n  var thisScanCycle = null;\r\n  var nextScan = null;\r\n  var cancelNextScan = null;\r\n\r\n  // standard screen widths/heights, from 4k down to 320x240\r\n  // widths and heights are each tested separately to account for screen rotation\r\n  var standardWidthsAndHeights = [\r\n    5120, 4096, 3840, 3440, 3200, 3072, 3000, 2880, 2800, 2736, 2732, 2560,\r\n    2538, 2400, 2304, 2160, 2100, 2048, 2000, 1920, 1856, 1824, 1800, 1792,\r\n    1776, 1728, 1700, 1680, 1600, 1536, 1440, 1400, 1392, 1366, 1344, 1334,\r\n    1280, 1200, 1152, 1136, 1120, 1080, 1050, 1024, 1000, 960, 900, 854, 848,\r\n    832, 800, 768, 750, 720, 640, 624, 600, 576, 544, 540, 512, 480, 320, 240\r\n  ];\r\n\r\n  var facingModes = [\r\n    'environment',\r\n    'user'\r\n  ];\r\n\r\n  //utils\r\n  function killStream(mediaStream){\r\n    mediaStream.getTracks().forEach(function(track){\r\n      track.stop();\r\n    });\r\n  }\r\n\r\n  // For performance, we test best-to-worst constraints. Once we find a match,\r\n  // we move to the next test. Since `ConstraintNotSatisfiedError`s are thrown\r\n  // much faster than streams can be started and stopped, the scan is much\r\n  // faster, even though it may iterate through more constraint objects.\r\n  function getCameraSpecsById(deviceId){\r\n\r\n    // return a getUserMedia Constraints\r\n    function getConstraintObj(deviceId, facingMode, width, height){\r\n      var obj = { audio: false, video: {} };\r\n      obj.video.deviceId = {exact: deviceId};\r\n      if(facingMode) {\r\n        obj.video.facingMode = {exact: facingMode};\r\n      }\r\n      if(width) {\r\n        obj.video.width = {exact: width};\r\n      }\r\n      if(height) {\r\n        obj.video.height = {exact: height};\r\n      }\r\n      return obj;\r\n    }\r\n\r\n    var facingModeConstraints = facingModes.map(function(mode){\r\n    \treturn getConstraintObj(deviceId, mode);\r\n    });\r\n    var widthConstraints = standardWidthsAndHeights.map(function(width){\r\n    \treturn getConstraintObj(deviceId, null, width);\r\n    });\r\n    var heightConstraints = standardWidthsAndHeights.map(function(height){\r\n    \treturn getConstraintObj(deviceId, null, null, height);\r\n    });\r\n\r\n    // create a promise which tries to resolve the best constraints for this deviceId\r\n    // rather than reject, failures return a value of `null`\r\n    function getFirstResolvingConstraint(constraintsBestToWorst){\r\n      return new Promise(function(resolveBestConstraints){\r\n        // build a chain of promises which either resolves or continues searching\r\n        return constraintsBestToWorst.reduce(function(chain, next){\r\n          return chain.then(function(searchState){\r\n            if(searchState.found){\r\n              // The best working constraint was found. Skip further tests.\r\n              return searchState;\r\n            } else {\r\n              searchState.nextConstraint = next;\r\n              return window.navigator.mediaDevices.getUserMedia(searchState.nextConstraint).then(function(mediaStream){\r\n                // We found the first working constraint object, now we can stop\r\n                // the stream and short-circuit the search.\r\n                killStream(mediaStream);\r\n                searchState.found = true;\r\n                return searchState;\r\n              }, function(){\r\n                // didn't get a media stream. The search continues:\r\n                return searchState;\r\n              });\r\n            }\r\n          });\r\n        }, Promise.resolve({\r\n          // kick off the search:\r\n          found: false,\r\n          nextConstraint: {}\r\n        })).then(function(searchState){\r\n          if(searchState.found){\r\n            resolveBestConstraints(searchState.nextConstraint);\r\n          } else {\r\n            resolveBestConstraints(null);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    return getFirstResolvingConstraint(facingModeConstraints).then(function(facingModeSpecs){\r\n      return getFirstResolvingConstraint(widthConstraints).then(function(widthSpecs){\r\n        return getFirstResolvingConstraint(heightConstraints).then(function(heightSpecs){\r\n          return {\r\n            deviceId: deviceId,\r\n            facingMode: facingModeSpecs === null ? null : facingModeSpecs.video.facingMode.exact,\r\n            width: widthSpecs === null ? null : widthSpecs.video.width.exact,\r\n            height: heightSpecs === null ? null : heightSpecs.video.height.exact\r\n          };\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  function chooseCameras(){\r\n    var devices = window.navigator.mediaDevices.enumerateDevices();\r\n    return devices.then(function(mediaDeviceInfoList){\r\n      var videoDeviceIds = mediaDeviceInfoList.filter(function(elem){\r\n        return elem.kind === 'videoinput';\r\n      }).map(function(elem){\r\n        return elem.deviceId;\r\n      });\r\n      return videoDeviceIds;\r\n    }).then(function(videoDeviceIds){\r\n      // there is no standardized way for us to get the specs of each camera\r\n      // (due to concerns over user fingerprinting), so we're forced to\r\n      // iteratively test each camera for it's capabilities\r\n      var searches = [];\r\n      videoDeviceIds.forEach(function(id){\r\n        searches.push(getCameraSpecsById(id));\r\n      });\r\n      return Promise.all(searches);\r\n    }).then(function(cameraSpecsArray){\r\n      return cameraSpecsArray.filter(function(camera){\r\n        // filter out any cameras where width and height could not be captured\r\n        if(camera !== null && camera.width !== null && camera.height !== null){\r\n          return true;\r\n        }\r\n      }).sort(function(a, b){\r\n        // sort cameras from highest resolution (by width) to lowest\r\n        return b.width - a.width;\r\n      });\r\n    }).then(function(bestToWorstCameras){\r\n      var backCamera = null,\r\n          frontCamera = null;\r\n      // choose backCamera\r\n      for(var i = 0; i < bestToWorstCameras.length; i++){\r\n        if (bestToWorstCameras[i].facingMode === 'environment'){\r\n          backCamera = bestToWorstCameras[i];\r\n          // (shouldn't be used for frontCamera)\r\n          bestToWorstCameras.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n      // if no back-facing cameras were found, choose the highest resolution\r\n      if(backCamera === null){\r\n        if(bestToWorstCameras.length > 0){\r\n          backCamera = bestToWorstCameras[0];\r\n          // (shouldn't be used for frontCamera)\r\n          bestToWorstCameras.splice(0, 1);\r\n        } else {\r\n          // user doesn't have any available cameras\r\n          backCamera = false;\r\n        }\r\n      }\r\n      if(bestToWorstCameras.length > 0){\r\n        // frontCamera should simply be the next-best resolution camera\r\n        frontCamera = bestToWorstCameras[0];\r\n      } else {\r\n        // user doesn't have any more cameras\r\n        frontCamera = false;\r\n      }\r\n      return {\r\n        backCamera: backCamera,\r\n        frontCamera: frontCamera\r\n      };\r\n    });\r\n  }\r\n\r\n  function mediaStreamIsActive(){\r\n    return activeMediaStream !== null;\r\n  }\r\n\r\n  function killActiveMediaStream(){\r\n    killStream(activeMediaStream);\r\n    activeMediaStream = null;\r\n  }\r\n\r\n  function getVideoPreview(){\r\n    return document.getElementById(ELEMENTS.preview);\r\n  }\r\n\r\n  function getImg(){\r\n    return document.getElementById(ELEMENTS.still);\r\n  }\r\n\r\n  function getCurrentCameraIndex(){\r\n    return currentCamera;\r\n  }\r\n\r\n  function getCurrentCamera(){\r\n    return currentCamera === 1 ? frontCamera : backCamera;\r\n  }\r\n\r\n  function bringStillToFront(){\r\n    var img = getImg();\r\n    if(img){\r\n      img.style.visibility = 'visible';\r\n      previewing = false;\r\n    }\r\n  }\r\n\r\n  function bringPreviewToFront(){\r\n    var img = getImg();\r\n    if(img){\r\n      img.style.visibility = 'hidden';\r\n      previewing = true;\r\n    }\r\n  }\r\n\r\n  function isInitialized(){\r\n    return backCamera !== null;\r\n  }\r\n\r\n  function canChangeCamera(){\r\n    return !!backCamera && !!frontCamera;\r\n  }\r\n\r\n  function calcStatus(){\r\n    return {\r\n      // !authorized means the user either has no camera or has denied access.\r\n      // This would leave a value of `null` before prepare(), and `false` after.\r\n      authorized: (backCamera !== null && backCamera !== false)? '1': '0',\r\n      // No applicable API\r\n      denied: '0',\r\n      // No applicable API\r\n      restricted: '0',\r\n      prepared: isInitialized() ? '1' : '0',\r\n      scanning: scanning? '1' : '0',\r\n      previewing: previewing? '1' : '0',\r\n      // We leave this true after prepare() to match the mobile experience as\r\n      // closely as possible. (Without additional covering, the preview will\r\n      // always be visible to the user).\r\n      showing: getVideoPreview()? '1' : '0',\r\n      // No applicable API\r\n      lightEnabled: '0',\r\n      // No applicable API\r\n      canOpenSettings: '0',\r\n      // No applicable API\r\n      canEnableLight: '0',\r\n      canChangeCamera: canChangeCamera() ? '1' : '0',\r\n      currentCamera: currentCamera.toString()\r\n    };\r\n  }\r\n\r\n  function startCamera(success, error){\r\n      var currentCameraIndex = getCurrentCameraIndex();\r\n      var currentCamera = getCurrentCamera();\r\n      window.navigator.mediaDevices.getUserMedia({\r\n        audio: false,\r\n        video: {\r\n          deviceId: {exact: currentCamera.deviceId},\r\n          width: {ideal: currentCamera.width},\r\n          height: {ideal: currentCamera.height}\r\n        }\r\n      }).then(function(mediaStream){\r\n        activeMediaStream = mediaStream;\r\n        var video = getVideoPreview();\r\n        video.src = URL.createObjectURL(mediaStream);\r\n        success(calcStatus());\r\n      }, function(err){\r\n        // something bad happened\r\n        err = null;\r\n        var code = currentCameraIndex? 4 : 3;\r\n        error(code); // FRONT_CAMERA_UNAVAILABLE : BACK_CAMERA_UNAVAILABLE\r\n      });\r\n  }\r\n\r\n  function getTempCanvasAndContext(videoElement){\r\n    var tempCanvas = document.createElement('canvas');\r\n    var camera = getCurrentCamera();\r\n    tempCanvas.height = camera.height;\r\n    tempCanvas.width = camera.width;\r\n    var tempCanvasContext = tempCanvas.getContext('2d');\r\n    tempCanvasContext.drawImage(videoElement, 0, 0, camera.width, camera.height);\r\n    return {\r\n      canvas: tempCanvas,\r\n      context: tempCanvasContext\r\n    };\r\n  }\r\n\r\n  function getCurrentImageData(videoElement){\r\n    var snapshot = getTempCanvasAndContext(videoElement);\r\n    return snapshot.context.getImageData(0, 0, snapshot.canvas.width, snapshot.canvas.height);\r\n  }\r\n\r\n  // take a screenshot of the video preview with a temp canvas\r\n  function captureCurrentFrame(videoElement){\r\n    return getTempCanvasAndContext(videoElement).canvas.toDataURL('image/png');\r\n  }\r\n\r\n  function initialize(success, error){\r\n    if(scanWorker === null){\r\n      var workerBlob = new Blob([workerScript],{type: \"text/javascript\"});\r\n      scanWorker = new Worker(URL.createObjectURL(workerBlob));\r\n    }\r\n    if(!getVideoPreview()){\r\n      // prepare DOM (sync)\r\n      var videoPreview = document.createElement('video');\r\n      videoPreview.setAttribute('autoplay', 'autoplay');\r\n      videoPreview.setAttribute('id', ELEMENTS.preview);\r\n      videoPreview.setAttribute('style', 'display:block;position:fixed;top:50%;left:50%;' +\r\n      'width:auto;height:auto;min-width:100%;min-height:100%;z-index:' + ZINDEXES.preview +\r\n      ';-moz-transform: translateX(-50%) translateY(-50%);-webkit-transform: ' +\r\n      'translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);' +\r\n      'background-size:cover;background-position:50% 50%;background-color:#FFF;');\r\n      videoPreview.addEventListener('loadeddata', function(){\r\n        bringPreviewToFront();\r\n      });\r\n\r\n      var stillImg = document.createElement('div');\r\n      stillImg.setAttribute('id', ELEMENTS.still);\r\n      stillImg.setAttribute('style', 'display:block;position:fixed;top:50%;left:50%;visibility: hidden;' +\r\n      'width:auto;height:auto;min-width:100%;min-height:100%;z-index:' + ZINDEXES.still +\r\n      ';-moz-transform: translateX(-50%) translateY(-50%);-webkit-transform: ' +\r\n      'translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);' +\r\n      'background-size:cover;background-position:50% 50%;background-color:#FFF;');\r\n\r\n      document.body.appendChild(videoPreview);\r\n      document.body.appendChild(stillImg);\r\n    }\r\n    if(backCamera === null){\r\n      // set instance cameras\r\n      chooseCameras().then(function(cameras){\r\n        backCamera = cameras.backCamera;\r\n        frontCamera = cameras.frontCamera;\r\n        if(backCamera !== false){\r\n          success();\r\n        } else {\r\n          error(5); // CAMERA_UNAVAILABLE\r\n        }\r\n      }, function(err){\r\n        // something bad happened\r\n        err = null;\r\n        error(0); // UNEXPECTED_ERROR\r\n      });\r\n    } else if (backCamera === false){\r\n      error(5); // CAMERA_UNAVAILABLE\r\n    } else {\r\n      success();\r\n    }\r\n  }\r\n\r\n  /*\r\n   *  --- Begin Public API ---\r\n   */\r\n\r\n  function prepare(success, error){\r\n    initialize(function(){\r\n      // return status on success\r\n      success(calcStatus());\r\n    },\r\n    // pass errors through\r\n    error);\r\n  }\r\n\r\n  function show(success, error){\r\n    function showCamera(){\r\n      if(!mediaStreamIsActive()){\r\n        startCamera(success, error);\r\n      } else {\r\n        success(calcStatus());\r\n      }\r\n    }\r\n    if(!isInitialized()){\r\n      initialize(function(){\r\n        // on successful initialization, attempt to showCamera\r\n        showCamera();\r\n      },\r\n      // pass errors through\r\n      error);\r\n    } else {\r\n      showCamera();\r\n    }\r\n  }\r\n\r\n  function hide(success, error){\r\n    error = null; // should never error\r\n    if(mediaStreamIsActive()){\r\n      killActiveMediaStream();\r\n    }\r\n    var video = getVideoPreview();\r\n    if(video){\r\n      video.src = '';\r\n    }\r\n    success(calcStatus());\r\n  }\r\n\r\n  function scan(success, error) {\r\n    // initialize and start video preview if not already active\r\n    show(function(ignore){\r\n      // ignore success output  `scan` method callback should be passed the decoded data\r\n      ignore = null;\r\n      var video = getVideoPreview();\r\n      var returned = false;\r\n      scanning = true;\r\n      scanWorker.onmessage = function(event){\r\n        var obj = event.data;\r\n        if(obj.result && !returned){\r\n          returned = true;\r\n          thisScanCycle = null;\r\n          success(obj.result);\r\n        }\r\n      };\r\n      thisScanCycle = function(){\r\n        scanWorker.postMessage(getCurrentImageData(video));\r\n        if(cancelNextScan !== null){\r\n          // avoid race conditions, always clear before starting a cycle\r\n          cancelNextScan();\r\n        }\r\n        // interval in milliseconds at which to try decoding the QR code\r\n        var SCAN_INTERVAL = window.QRScanner_SCAN_INTERVAL || 130;\r\n        // this value can be adjusted on-the-fly (while a scan is active) to\r\n        // balance scan speed vs. CPU/power usage\r\n        nextScan = window.setTimeout(thisScanCycle, SCAN_INTERVAL);\r\n        cancelNextScan = function(sendError){\r\n          window.clearTimeout(nextScan);\r\n          nextScan = null;\r\n          cancelNextScan = null;\r\n          if(sendError){\r\n            error(6); // SCAN_CANCELED\r\n          }\r\n        };\r\n      };\r\n      thisScanCycle();\r\n    }, error);\r\n  }\r\n\r\n  function cancelScan(success, error){\r\n    error = null; // should never error\r\n    if(cancelNextScan !== null){\r\n      cancelNextScan(true);\r\n    }\r\n    scanning = false;\r\n    if(typeof success === \"function\"){\r\n      success(calcStatus());\r\n    }\r\n  }\r\n\r\n  function pausePreview(success, error){\r\n    error = null; // should never error\r\n    if(mediaStreamIsActive()){\r\n      // pause scanning too\r\n      if(cancelNextScan !== null){\r\n        cancelNextScan();\r\n      }\r\n      var video = getVideoPreview();\r\n      video.pause();\r\n      var img = new Image();\r\n      img.src = captureCurrentFrame(video);\r\n      getImg().style.backgroundImage = 'url(' + img.src + ')';\r\n      bringStillToFront();\r\n      // kill the active stream to turn off the privacy light (the screenshot\r\n      // in the stillImg will remain visible)\r\n      killActiveMediaStream();\r\n      success(calcStatus());\r\n    } else {\r\n      success(calcStatus());\r\n    }\r\n  }\r\n\r\n  function resumePreview(success, error){\r\n    // if a scan was happening, resume it\r\n    if(thisScanCycle !== null){\r\n      thisScanCycle();\r\n    }\r\n    show(success, error);\r\n  }\r\n\r\n  function enableLight(success, error){\r\n    error(7); //LIGHT_UNAVAILABLE\r\n  }\r\n\r\n  function disableLight(success, error){\r\n    error(7); //LIGHT_UNAVAILABLE\r\n  }\r\n\r\n  function useCamera(success, error, array){\r\n    var requestedCamera = array[0];\r\n    var initialized = isInitialized();\r\n    if(requestedCamera !== currentCamera){\r\n      if(initialized && requestedCamera === 1 && !canChangeCamera()){\r\n          error(4); //FRONT_CAMERA_UNAVAILABLE\r\n      } else {\r\n        currentCamera = requestedCamera;\r\n        if(initialized){\r\n          hide(function(status){\r\n            // Don't need this one\r\n            status = null;\r\n          });\r\n          show(success, error);\r\n        } else {\r\n          success(calcStatus());\r\n        }\r\n      }\r\n    } else {\r\n      success(calcStatus());\r\n    }\r\n  }\r\n\r\n  function openSettings(success, error){\r\n    error(8); //OPEN_SETTINGS_UNAVAILABLE\r\n  }\r\n\r\n  function getStatus(success, error){\r\n    error = null; // should never error\r\n    success(calcStatus());\r\n  }\r\n\r\n  // Reset all instance variables to their original state.\r\n  // This method might be useful in cases where a new camera is available, and\r\n  // the application needs to force the plugin to chooseCameras() again.\r\n  function destroy(success, error){\r\n    error = null; // should never error\r\n    cancelScan();\r\n    if(mediaStreamIsActive()){\r\n      killActiveMediaStream();\r\n    }\r\n    backCamera = null;\r\n    frontCamera = null;\r\n    var preview = getVideoPreview();\r\n    var still = getImg();\r\n    if(preview){\r\n      preview.remove();\r\n    }\r\n    if(still){\r\n      still.remove();\r\n    }\r\n    success(calcStatus());\r\n  }\r\n\r\n  return {\r\n      prepare: prepare,\r\n      show: show,\r\n      hide: hide,\r\n      scan: scan,\r\n      cancelScan: cancelScan,\r\n      pausePreview: pausePreview,\r\n      resumePreview: resumePreview,\r\n      enableLight: enableLight,\r\n      disableLight: disableLight,\r\n      useCamera: useCamera,\r\n      openSettings: openSettings,\r\n      getStatus: getStatus,\r\n      destroy: destroy\r\n  };\r\n};\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = function createQRScanner(cordova){\r\n// The native implementations should return their status as ['string':'string']\r\n// dictionaries. Boolean values are encoded to '0' and '1', respectively.\r\nfunction stringToBool(string) {\r\n  switch (string) {\r\n    case '1':\r\n      return true;\r\n    case '0':\r\n      return false;\r\n    default:\r\n    throw new Error('QRScanner plugin returned an invalid boolean number-string: ' + string);\r\n  }\r\n}\r\n\r\n// Converts the returned ['string':'string'] dictionary to a status object.\r\nfunction convertStatus(statusDictionary) {\r\n  return {\r\n    authorized: stringToBool(statusDictionary.authorized),\r\n    denied: stringToBool(statusDictionary.denied),\r\n    restricted: stringToBool(statusDictionary.restricted),\r\n    prepared: stringToBool(statusDictionary.prepared),\r\n    scanning: stringToBool(statusDictionary.scanning),\r\n    previewing: stringToBool(statusDictionary.previewing),\r\n    showing: stringToBool(statusDictionary.showing),\r\n    lightEnabled: stringToBool(statusDictionary.lightEnabled),\r\n    canOpenSettings: stringToBool(statusDictionary.canOpenSettings),\r\n    canEnableLight: stringToBool(statusDictionary.canEnableLight),\r\n    canChangeCamera: stringToBool(statusDictionary.canChangeCamera),\r\n    currentCamera: parseInt(statusDictionary.currentCamera)\r\n  };\r\n}\r\n\r\n// Simple utility method to ensure the background is transparent. Used by the\r\n// plugin to force re-rendering immediately after the native webview background\r\n// is made transparent.\r\nfunction clearBackground() {\r\n  var body = document.body;\r\n  if (body.style) {\r\n    body.style.backgroundColor = 'rgba(0,0,0,0.01)';\r\n    body.style.backgroundImage = '';\r\n    setTimeout(function() {\r\n      body.style.backgroundColor = 'transparent';\r\n    }, 1);\r\n    if (body.parentNode && body.parentNode.style) {\r\n      body.parentNode.style.backgroundColor = 'transparent';\r\n      body.parentNode.style.backgroundImage = '';\r\n    }\r\n  }\r\n}\r\n\r\nfunction errorCallback(callback) {\r\n  if (!callback) {\r\n    return null;\r\n  }\r\n  return function(error) {\r\n    var errorCode = parseInt(error);\r\n    var QRScannerError = {};\r\n    switch (errorCode) {\r\n      case 0:\r\n        QRScannerError = {\r\n          name: 'UNEXPECTED_ERROR',\r\n          code: 0,\r\n          _message: 'QRScanner experienced an unexpected error.'\r\n        };\r\n        break;\r\n      case 1:\r\n        QRScannerError = {\r\n          name: 'CAMERA_ACCESS_DENIED',\r\n          code: 1,\r\n          _message: 'The user denied camera access.'\r\n        };\r\n        break;\r\n      case 2:\r\n        QRScannerError = {\r\n          name: 'CAMERA_ACCESS_RESTRICTED',\r\n          code: 2,\r\n          _message: 'Camera access is restricted.'\r\n        };\r\n        break;\r\n      case 3:\r\n        QRScannerError = {\r\n          name: 'BACK_CAMERA_UNAVAILABLE',\r\n          code: 3,\r\n          _message: 'The back camera is unavailable.'\r\n        };\r\n        break;\r\n      case 4:\r\n        QRScannerError = {\r\n          name: 'FRONT_CAMERA_UNAVAILABLE',\r\n          code: 4,\r\n          _message: 'The front camera is unavailable.'\r\n        };\r\n        break;\r\n      case 5:\r\n        QRScannerError = {\r\n          name: 'CAMERA_UNAVAILABLE',\r\n          code: 5,\r\n          _message: 'The camera is unavailable.'\r\n        };\r\n        break;\r\n      case 6:\r\n        QRScannerError = {\r\n          name: 'SCAN_CANCELED',\r\n          code: 6,\r\n          _message: 'Scan was canceled.'\r\n        };\r\n        break;\r\n      case 7:\r\n        QRScannerError = {\r\n          name: 'LIGHT_UNAVAILABLE',\r\n          code: 7,\r\n          _message: 'The device light is unavailable.'\r\n        };\r\n        break;\r\n      case 8:\r\n        // Open settings is only available on iOS 8.0+.\r\n        QRScannerError = {\r\n          name: 'OPEN_SETTINGS_UNAVAILABLE',\r\n          code: 8,\r\n          _message: 'The device is unable to open settings.'\r\n        };\r\n        break;\r\n      default:\r\n        QRScannerError = {\r\n          name: 'UNEXPECTED_ERROR',\r\n          code: 0,\r\n          _message: 'QRScanner returned an invalid error code.'\r\n        };\r\n        break;\r\n    }\r\n    callback(QRScannerError);\r\n  };\r\n}\r\n\r\nfunction successCallback(callback) {\r\n  if (!callback) {\r\n    return null;\r\n  }\r\n  return function(statusDict) {\r\n    callback(null, convertStatus(statusDict));\r\n  };\r\n}\r\n\r\nfunction doneCallback(callback, clear) {\r\n  if (!callback) {\r\n    return null;\r\n  }\r\n  return function(statusDict) {\r\n    if (clear) {\r\n      clearBackground();\r\n    }\r\n    callback(convertStatus(statusDict));\r\n  };\r\n}\r\n\r\nreturn {\r\n  prepare: function(callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'prepare', []);\r\n  },\r\n  destroy: function(callback) {\r\n    cordova.exec(doneCallback(callback, true), null, 'QRScanner', 'destroy', []);\r\n  },\r\n  scan: function(callback) {\r\n    if (!callback) {\r\n      throw new Error('No callback provided to scan method.');\r\n    }\r\n    var success = function(result) {\r\n      callback(null, result);\r\n    };\r\n    cordova.exec(success, errorCallback(callback), 'QRScanner', 'scan', []);\r\n  },\r\n  cancelScan: function(callback) {\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'cancelScan', []);\r\n  },\r\n  show: function(callback) {\r\n    cordova.exec(doneCallback(callback, true), null, 'QRScanner', 'show', []);\r\n  },\r\n  hide: function(callback) {\r\n    cordova.exec(doneCallback(callback, true), null, 'QRScanner', 'hide', []);\r\n  },\r\n  pausePreview: function(callback) {\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'pausePreview', []);\r\n  },\r\n  resumePreview: function(callback) {\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'resumePreview', []);\r\n  },\r\n  enableLight: function(callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'enableLight', []);\r\n  },\r\n  disableLight: function(callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'disableLight', []);\r\n  },\r\n  useCamera: function(index, callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'useCamera', [index]);\r\n  },\r\n  useFrontCamera: function(callback) {\r\n    var frontCamera = 1;\r\n    if (callback) {\r\n      this.useCamera(frontCamera, callback);\r\n    } else {\r\n      cordova.exec(null, null, 'QRScanner', 'useCamera', [frontCamera]);\r\n    }\r\n  },\r\n  useBackCamera: function(callback) {\r\n    var backCamera = 0;\r\n    if (callback) {\r\n      this.useCamera(backCamera, callback);\r\n    } else {\r\n      cordova.exec(null, null, 'QRScanner', 'useCamera', [backCamera]);\r\n    }\r\n  },\r\n  openSettings: function(callback) {\r\n    if (callback) {\r\n      cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'openSettings', []);\r\n    } else {\r\n      cordova.exec(null, null, 'QRScanner', 'openSettings', []);\r\n    }\r\n  },\r\n  getStatus: function(callback) {\r\n    if (!callback) {\r\n      throw new Error('No callback provided to getStatus method.');\r\n    }\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'getStatus', []);\r\n  }\r\n};\r\n};\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\\\"a\\\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\\\"\\\",e(e.s=19)}([function(t,e,n){\\\"use strict\\\";function r(){this.imagedata=null,this.width=0,this.height=0,this.qrCodeSymbol=null,this.debug=!1,this.callback=null}function i(t,e){return t>=0?t>>e:(t>>e)+(2<<~e)}var o=n(14),a=n(13);n.d(e,\\\"b\\\",function(){return s}),e.a=r,e.c=i;var s={};s.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],r.prototype.decode=function(t,e){var n=function(){try{this.error=void 0,this.result=this.process(this.imagedata)}catch(t){this.error=t,this.result=void 0}return null!=this.callback&&this.callback(this.result,this.error),this.result}.bind(this);if(void 0==t){var r=document.getElementById(\\\"qr-canvas\\\"),i=r.getContext(\\\"2d\\\");this.width=r.width,this.height=r.height,this.imagedata=i.getImageData(0,0,this.width,this.height),n()}else if(void 0!=t.width)this.width=t.width,this.height=t.height,this.imagedata={data:e||t.data},this.imagedata.width=t.width,this.imagedata.height=t.height,n();else{var o=new Image;o.crossOrigin=\\\"Anonymous\\\",o.onload=function(){var t=document.createElement(\\\"canvas\\\"),e=t.getContext(\\\"2d\\\"),r=document.getElementById(\\\"out-canvas\\\");if(null!=r){var i=r.getContext(\\\"2d\\\");i.clearRect(0,0,320,240),i.drawImage(o,0,0,320,240)}t.width=o.width,t.height=o.height,e.drawImage(o,0,0),this.width=o.width,this.height=o.height;try{this.imagedata=e.getImageData(0,0,o.width,o.height)}catch(t){if(this.result=\\\"Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!\\\",null!=this.callback)return this.callback(this.result)}n()}.bind(this),o.src=t}},r.prototype.decode_utf8=function(t){return decodeURIComponent(escape(t))},r.prototype.process=function(t){for(var e=(new Date).getTime(),n=this.grayScaleToBitmap(this.grayscale(t)),r=new o.a(n),i=r.detect(),s=a.a.decode(i.bits),h=s.DataByte,f=\\\"\\\",w=0;w<h.length;w++)for(var u=0;u<h[w].length;u++)f+=String.fromCharCode(h[w][u]);var l=(new Date).getTime(),c=l-e;return this.debug&&console.log(\\\"QR Code processing time (ms): \\\"+c),this.decode_utf8(f)},r.prototype.getPixel=function(t,e,n){if(t.width<e)throw\\\"point error\\\";if(t.height<n)throw\\\"point error\\\";var r=4*e+n*t.width*4;return(33*t.data[r]+34*t.data[r+1]+33*t.data[r+2])/100},r.prototype.binarize=function(t){for(var e=new Array(this.width*this.height),n=0;n<this.height;n++)for(var r=0;r<this.width;r++){var i=this.getPixel(r,n);e[r+n*this.width]=i<=t}return e},r.prototype.getMiddleBrightnessPerArea=function(t){for(var e=4,n=Math.floor(t.width/e),r=Math.floor(t.height/e),i=new Array(e),o=0;o<e;o++){i[o]=new Array(e);for(var a=0;a<e;a++)i[o][a]=[0,0]}for(var s=0;s<e;s++)for(var h=0;h<e;h++){i[h][s][0]=255;for(var f=0;f<r;f++)for(var w=0;w<n;w++){var u=t.data[n*h+w+(r*s+f)*t.width];u<i[h][s][0]&&(i[h][s][0]=u),u>i[h][s][1]&&(i[h][s][1]=u)}}for(var l=new Array(e),c=0;c<e;c++)l[c]=new Array(e);for(var s=0;s<e;s++)for(var h=0;h<e;h++)l[h][s]=Math.floor((i[h][s][0]+i[h][s][1])/2);return l},r.prototype.grayScaleToBitmap=function(t){for(var e=this.getMiddleBrightnessPerArea(t),n=e.length,r=Math.floor(t.width/n),i=Math.floor(t.height/n),o=0;o<n;o++)for(var a=0;a<n;a++)for(var s=0;s<i;s++)for(var h=0;h<r;h++)t.data[r*a+h+(i*o+s)*t.width]=t.data[r*a+h+(i*o+s)*t.width]<e[a][o];return t},r.prototype.grayscale=function(t){for(var e=new Array(t.width*t.height),n=0;n<t.height;n++)for(var r=0;r<t.width;r++){var i=this.getPixel(t,r,n);e[r+n*t.width]=i}return{height:t.height,width:t.width,data:e}}},function(t,e,n){\\\"use strict\\\";function r(t){this.expTable=new Array(256),this.logTable=new Array(256);for(var e=1,n=0;n<256;n++)this.expTable[n]=e,e<<=1,e>=256&&(e^=t);for(var n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var r=new Array(1);r[0]=0,this.zero=new i.a(this,new Array(r));var o=new Array(1);o[0]=1,this.one=new i.a(this,new Array(o))}var i=n(4);e.a=r,Object.defineProperty(r.prototype,\\\"Zero\\\",{get:function(){return this.zero}}),Object.defineProperty(r.prototype,\\\"One\\\",{get:function(){return this.one}}),r.prototype.buildMonomial=function(t,e){if(t<0)throw\\\"System.ArgumentException\\\";if(0==e)return this.zero;for(var n=new Array(t+1),r=0;r<n.length;r++)n[r]=0;return n[0]=e,new i.a(this,n)},r.prototype.exp=function(t){return this.expTable[t]},r.prototype.log=function(t){if(0==t)throw\\\"System.ArgumentException\\\";return this.logTable[t]},r.prototype.inverse=function(t){if(0==t)throw\\\"System.ArithmeticException\\\";return this.expTable[255-this.logTable[t]]},r.prototype.multiply=function(t,e){return 0==t||0==e?0:1==t?e:1==e?t:this.expTable[(this.logTable[t]+this.logTable[e])%255]},r.QR_CODE_FIELD=new r(285),r.DATA_MATRIX_FIELD=new r(301),r.addOrSubtract=function(t,e){return t^e}},function(t,e,n){\\\"use strict\\\";function r(t,e){if(e||(e=t),t<1||e<1)throw\\\"Both dimensions must be greater than 0\\\";this.width=t,this.height=e;var n=t>>5;0!=(31&t)&&n++,this.rowSize=n,this.bits=new Array(n*e);for(var r=0;r<this.bits.length;r++)this.bits[r]=0}var i=n(0);e.a=r,Object.defineProperty(r.prototype,\\\"Dimension\\\",{get:function(){if(this.width!=this.height)throw\\\"Can't call getDimension() on a non-square matrix\\\";return this.width}}),r.prototype.get_Renamed=function(t,e){var r=e*this.rowSize+(t>>5);return 0!=(1&n.i(i.c)(this.bits[r],31&t))},r.prototype.set_Renamed=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]|=1<<(31&t)},r.prototype.flip=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]^=1<<(31&t)},r.prototype.clear=function(){for(var t=this.bits.length,e=0;e<t;e++)this.bits[e]=0},r.prototype.setRegion=function(t,e,n,r){if(e<0||t<0)throw\\\"Left and top must be nonnegative\\\";if(r<1||n<1)throw\\\"Height and width must be at least 1\\\";var i=t+n,o=e+r;if(o>this.height||i>this.width)throw\\\"The region must fit inside the matrix\\\";for(var a=e;a<o;a++)for(var s=a*this.rowSize,h=t;h<i;h++)this.bits[s+(h>>5)]|=1<<(31&h)}},function(t,e,n){\\\"use strict\\\";function r(t){this.errorCorrectionLevel=o.a.forBits(t>>3&3),this.dataMask=7&t}var i=n(0),o=n(15);e.a=r;var a=21522,s=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],h=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];r.prototype.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},r.prototype.Equals=function(t){var e=t;return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask},r.numBitsDiffering=function(t,e){return t^=e,h[15&t]+h[15&n.i(i.c)(t,4)]+h[15&n.i(i.c)(t,8)]+h[15&n.i(i.c)(t,12)]+h[15&n.i(i.c)(t,16)]+h[15&n.i(i.c)(t,20)]+h[15&n.i(i.c)(t,24)]+h[15&n.i(i.c)(t,28)]},r.decodeFormatInformation=function(t){var e=r.doDecodeFormatInformation(t);return null!=e?e:r.doDecodeFormatInformation(t^a)},r.doDecodeFormatInformation=function(t){for(var e=4294967295,n=0,i=0;i<s.length;i++){var o=s[i],a=o[0];if(a==t)return new r(o[1]);var h=this.numBitsDiffering(t,a);h<e&&(n=o[1],e=h)}return e<=3?new r(n):null}},function(t,e,n){\\\"use strict\\\";function r(t,e){if(null==e||0==e.length)throw\\\"System.ArgumentException\\\";this.field=t;var n=e.length;if(n>1&&0==e[0]){for(var r=1;r<n&&0==e[r];)r++;if(r==n)this.coefficients=t.Zero.coefficients;else{this.coefficients=new Array(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=e[r+o]}}else this.coefficients=e}var i=n(1);e.a=r,Object.defineProperty(r.prototype,\\\"Zero\\\",{get:function(){return 0==this.coefficients[0]}}),Object.defineProperty(r.prototype,\\\"Degree\\\",{get:function(){return this.coefficients.length-1}}),r.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},r.prototype.evaluateAt=function(t){if(0==t)return this.getCoefficient(0);var e=this.coefficients.length;if(1==t){for(var n=0,r=0;r<e;r++)n=i.a.addOrSubtract(n,this.coefficients[r]);return n}for(var o=this.coefficients[0],r=1;r<e;r++)o=i.a.addOrSubtract(this.field.multiply(t,o),this.coefficients[r]);return o},r.prototype.addOrSubtract=function(t){if(this.field!=t.field)throw\\\"GF256Polys do not have same GF256 field\\\";if(this.Zero)return t;if(t.Zero)return this;var e=this.coefficients,n=t.coefficients;if(e.length>n.length){var o=e;e=n,n=o}for(var a=new Array(n.length),s=n.length-e.length,h=0;h<s;h++)a[h]=n[h];for(var f=s;f<n.length;f++)a[f]=i.a.addOrSubtract(e[f-s],n[f]);return new r(this.field,a)},r.prototype.multiply1=function(t){if(this.field!=t.field)throw\\\"GF256Polys do not have same GF256 field\\\";if(this.Zero||t.Zero)return this.field.Zero;for(var e=this.coefficients,n=e.length,o=t.coefficients,a=o.length,s=new Array(n+a-1),h=0;h<n;h++)for(var f=e[h],w=0;w<a;w++)s[h+w]=i.a.addOrSubtract(s[h+w],this.field.multiply(f,o[w]));return new r(this.field,s)},r.prototype.multiply2=function(t){if(0==t)return this.field.Zero;if(1==t)return this;for(var e=this.coefficients.length,n=new Array(e),i=0;i<e;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(t,e){if(t<0)throw\\\"System.ArgumentException\\\";if(0==e)return this.field.Zero;for(var n=this.coefficients.length,i=new Array(n+t),o=0;o<i.length;o++)i[o]=0;for(var o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new r(this.field,i)},r.prototype.divide=function(t){if(this.field!=t.field)throw\\\"GF256Polys do not have same GF256 field\\\";if(t.Zero)throw\\\"Divide by 0\\\";for(var e=this.field.Zero,n=this,r=t.getCoefficient(t.Degree),i=this.field.inverse(r);n.Degree>=t.Degree&&!n.Zero;){var o=n.Degree-t.Degree,a=this.field.multiply(n.getCoefficient(n.Degree),i),s=t.multiplyByMonomial(o,a),h=this.field.buildMonomial(o,a);e=e.addOrSubtract(h),n=n.addOrSubtract(s)}return[e,n]}},function(t,e,n){\\\"use strict\\\";function r(t,e){this.count=t,this.dataCodewords=e}function i(t,e,n){this.ecCodewordsPerBlock=t,n?this.ecBlocks=[e,n]:this.ecBlocks=[e]}function o(t,e,n,r,i,o){this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=[n,r,i,o];for(var a=0,s=n.ecCodewordsPerBlock,h=n.getECBlocks(),f=0;f<h.length;f++){var w=h[f];a+=w.count*(w.dataCodewords+s)}this.totalCodewords=a}function a(){return[new o(1,[],new i(7,new r(1,19)),new i(10,new r(1,16)),new i(13,new r(1,13)),new i(17,new r(1,9))),new o(2,[6,18],new i(10,new r(1,34)),new i(16,new r(1,28)),new i(22,new r(1,22)),new i(28,new r(1,16))),new o(3,[6,22],new i(15,new r(1,55)),new i(26,new r(1,44)),new i(18,new r(2,17)),new i(22,new r(2,13))),new o(4,[6,26],new i(20,new r(1,80)),new i(18,new r(2,32)),new i(26,new r(2,24)),new i(16,new r(4,9))),new o(5,[6,30],new i(26,new r(1,108)),new i(24,new r(2,43)),new i(18,new r(2,15),new r(2,16)),new i(22,new r(2,11),new r(2,12))),new o(6,[6,34],new i(18,new r(2,68)),new i(16,new r(4,27)),new i(24,new r(4,19)),new i(28,new r(4,15))),new o(7,[6,22,38],new i(20,new r(2,78)),new i(18,new r(4,31)),new i(18,new r(2,14),new r(4,15)),new i(26,new r(4,13),new r(1,14))),new o(8,[6,24,42],new i(24,new r(2,97)),new i(22,new r(2,38),new r(2,39)),new i(22,new r(4,18),new r(2,19)),new i(26,new r(4,14),new r(2,15))),new o(9,[6,26,46],new i(30,new r(2,116)),new i(22,new r(3,36),new r(2,37)),new i(20,new r(4,16),new r(4,17)),new i(24,new r(4,12),new r(4,13))),new o(10,[6,28,50],new i(18,new r(2,68),new r(2,69)),new i(26,new r(4,43),new r(1,44)),new i(24,new r(6,19),new r(2,20)),new i(28,new r(6,15),new r(2,16))),new o(11,[6,30,54],new i(20,new r(4,81)),new i(30,new r(1,50),new r(4,51)),new i(28,new r(4,22),new r(4,23)),new i(24,new r(3,12),new r(8,13))),new o(12,[6,32,58],new i(24,new r(2,92),new r(2,93)),new i(22,new r(6,36),new r(2,37)),new i(26,new r(4,20),new r(6,21)),new i(28,new r(7,14),new r(4,15))),new o(13,[6,34,62],new i(26,new r(4,107)),new i(22,new r(8,37),new r(1,38)),new i(24,new r(8,20),new r(4,21)),new i(22,new r(12,11),new r(4,12))),new o(14,[6,26,46,66],new i(30,new r(3,115),new r(1,116)),new i(24,new r(4,40),new r(5,41)),new i(20,new r(11,16),new r(5,17)),new i(24,new r(11,12),new r(5,13))),new o(15,[6,26,48,70],new i(22,new r(5,87),new r(1,88)),new i(24,new r(5,41),new r(5,42)),new i(30,new r(5,24),new r(7,25)),new i(24,new r(11,12),new r(7,13))),new o(16,[6,26,50,74],new i(24,new r(5,98),new r(1,99)),new i(28,new r(7,45),new r(3,46)),new i(24,new r(15,19),new r(2,20)),new i(30,new r(3,15),new r(13,16))),new o(17,[6,30,54,78],new i(28,new r(1,107),new r(5,108)),new i(28,new r(10,46),new r(1,47)),new i(28,new r(1,22),new r(15,23)),new i(28,new r(2,14),new r(17,15))),new o(18,[6,30,56,82],new i(30,new r(5,120),new r(1,121)),new i(26,new r(9,43),new r(4,44)),new i(28,new r(17,22),new r(1,23)),new i(28,new r(2,14),new r(19,15))),new o(19,[6,30,58,86],new i(28,new r(3,113),new r(4,114)),new i(26,new r(3,44),new r(11,45)),new i(26,new r(17,21),new r(4,22)),new i(26,new r(9,13),new r(16,14))),new o(20,[6,34,62,90],new i(28,new r(3,107),new r(5,108)),new i(26,new r(3,41),new r(13,42)),new i(30,new r(15,24),new r(5,25)),new i(28,new r(15,15),new r(10,16))),new o(21,[6,28,50,72,94],new i(28,new r(4,116),new r(4,117)),new i(26,new r(17,42)),new i(28,new r(17,22),new r(6,23)),new i(30,new r(19,16),new r(6,17))),new o(22,[6,26,50,74,98],new i(28,new r(2,111),new r(7,112)),new i(28,new r(17,46)),new i(30,new r(7,24),new r(16,25)),new i(24,new r(34,13))),new o(23,[6,30,54,74,102],new i(30,new r(4,121),new r(5,122)),new i(28,new r(4,47),new r(14,48)),new i(30,new r(11,24),new r(14,25)),new i(30,new r(16,15),new r(14,16))),new o(24,[6,28,54,80,106],new i(30,new r(6,117),new r(4,118)),new i(28,new r(6,45),new r(14,46)),new i(30,new r(11,24),new r(16,25)),new i(30,new r(30,16),new r(2,17))),new o(25,[6,32,58,84,110],new i(26,new r(8,106),new r(4,107)),new i(28,new r(8,47),new r(13,48)),new i(30,new r(7,24),new r(22,25)),new i(30,new r(22,15),new r(13,16))),new o(26,[6,30,58,86,114],new i(28,new r(10,114),new r(2,115)),new i(28,new r(19,46),new r(4,47)),new i(28,new r(28,22),new r(6,23)),new i(30,new r(33,16),new r(4,17))),new o(27,[6,34,62,90,118],new i(30,new r(8,122),new r(4,123)),new i(28,new r(22,45),new r(3,46)),new i(30,new r(8,23),new r(26,24)),new i(30,new r(12,15),new r(28,16))),new o(28,[6,26,50,74,98,122],new i(30,new r(3,117),new r(10,118)),new i(28,new r(3,45),new r(23,46)),new i(30,new r(4,24),new r(31,25)),new i(30,new r(11,15),new r(31,16))),new o(29,[6,30,54,78,102,126],new i(30,new r(7,116),new r(7,117)),new i(28,new r(21,45),new r(7,46)),new i(30,new r(1,23),new r(37,24)),new i(30,new r(19,15),new r(26,16))),new o(30,[6,26,52,78,104,130],new i(30,new r(5,115),new r(10,116)),new i(28,new r(19,47),new r(10,48)),new i(30,new r(15,24),new r(25,25)),new i(30,new r(23,15),new r(25,16))),new o(31,[6,30,56,82,108,134],new i(30,new r(13,115),new r(3,116)),new i(28,new r(2,46),new r(29,47)),new i(30,new r(42,24),new r(1,25)),new i(30,new r(23,15),new r(28,16))),new o(32,[6,34,60,86,112,138],new i(30,new r(17,115)),new i(28,new r(10,46),new r(23,47)),new i(30,new r(10,24),new r(35,25)),new i(30,new r(19,15),new r(35,16))),new o(33,[6,30,58,86,114,142],new i(30,new r(17,115),new r(1,116)),new i(28,new r(14,46),new r(21,47)),new i(30,new r(29,24),new r(19,25)),new i(30,new r(11,15),new r(46,16))),new o(34,[6,34,62,90,118,146],new i(30,new r(13,115),new r(6,116)),new i(28,new r(14,46),new r(23,47)),new i(30,new r(44,24),new r(7,25)),new i(30,new r(59,16),new r(1,17))),new o(35,[6,30,54,78,102,126,150],new i(30,new r(12,121),new r(7,122)),new i(28,new r(12,47),new r(26,48)),new i(30,new r(39,24),new r(14,25)),new i(30,new r(22,15),new r(41,16))),new o(36,[6,24,50,76,102,128,154],new i(30,new r(6,121),new r(14,122)),new i(28,new r(6,47),new r(34,48)),new i(30,new r(46,24),new r(10,25)),new i(30,new r(2,15),new r(64,16))),new o(37,[6,28,54,80,106,132,158],new i(30,new r(17,122),new r(4,123)),new i(28,new r(29,46),new r(14,47)),new i(30,new r(49,24),new r(10,25)),new i(30,new r(24,15),new r(46,16))),new o(38,[6,32,58,84,110,136,162],new i(30,new r(4,122),new r(18,123)),new i(28,new r(13,46),new r(32,47)),new i(30,new r(48,24),new r(14,25)),new i(30,new r(42,15),new r(32,16))),new o(39,[6,26,54,82,110,138,166],new i(30,new r(20,117),new r(4,118)),new i(28,new r(40,47),new r(7,48)),new i(30,new r(43,24),new r(22,25)),new i(30,new r(10,15),new r(67,16))),new o(40,[6,30,58,86,114,142,170],new i(30,new r(19,118),new r(6,119)),new i(28,new r(18,47),new r(31,48)),new i(30,new r(34,24),new r(34,25)),new i(30,new r(20,15),new r(61,16)))]}var s=n(3),h=n(2);e.a=o,Object.defineProperty(i.prototype,\\\"TotalECCodewords\\\",{get:function(){return this.ecCodewordsPerBlock*this.NumBlocks}}),Object.defineProperty(i.prototype,\\\"NumBlocks\\\",{get:function(){for(var t=0,e=0;e<this.ecBlocks.length;e++)t+=this.ecBlocks[e].length;return t}}),i.prototype.getECBlocks=function(){return this.ecBlocks},Object.defineProperty(o.prototype,\\\"DimensionForVersion\\\",{get:function(){return 17+4*this.versionNumber}}),o.prototype.buildFunctionPattern=function(){var t=this.DimensionForVersion,e=new h.a(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0==r&&(0==o||o==n-1)||r==n-1&&0==o||e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},o.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.ordinal()]},o.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017],o.VERSIONS=a(),o.getVersionForNumber=function(t){if(t<1||t>40)throw\\\"ArgumentException\\\";return o.VERSIONS[t-1]},o.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw\\\"Error getProvisionalVersionForDimension\\\";try{return o.getVersionForNumber(t-17>>2)}catch(t){throw\\\"Error getVersionForNumber\\\"}},o.decodeVersionInformation=function(t){for(var e=4294967295,n=0,r=0;r<o.VERSION_DECODE_INFO.length;r++){var i=o.VERSION_DECODE_INFO[r];if(i==t)return this.getVersionForNumber(r+7);var a=s.a.numBitsDiffering(t,i);a<e&&(n=r+7,e=a)}return e<=3?this.getVersionForNumber(n):null}},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(0);e.default=r.a},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\\\"loaded\\\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\\\"id\\\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\\\"use strict\\\";function r(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n}function i(t,e,n,r,i,o,a){this.image=t,this.possibleCenters=[],this.startX=e,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.crossCheckStateCount=[0,0,0],this.resultPointCallback=a}e.a=i,Object.defineProperty(r.prototype,\\\"X\\\",{get:function(){return Math.floor(this.x)}}),Object.defineProperty(r.prototype,\\\"Y\\\",{get:function(){return Math.floor(this.y)}}),r.prototype.incrementCount=function(){this.count++},r.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1},i.prototype.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},i.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},i.prototype.crossCheckVertical=function(t,e,n,r){var i=this.image,o=i.height,a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var s=t;s>=0&&i.data[e+s*i.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&!i.data[e+s*i.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=t+1;s<o&&i.data[e+s*i.width]&&a[1]<=n;)a[1]++,s++;if(s==o||a[1]>n)return NaN;for(;s<o&&!i.data[e+s*i.width]&&a[2]<=n;)a[2]++,s++;if(a[2]>n)return NaN;var h=a[0]+a[1]+a[2];return 5*Math.abs(h-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},i.prototype.handlePossibleCenter=function(t,e,n){var i=t[0]+t[1]+t[2],o=this.centerFromEnd(t,n),a=this.crossCheckVertical(e,Math.floor(o),2*t[1],i);if(!isNaN(a)){for(var s=(t[0]+t[1]+t[2])/3,h=this.possibleCenters.length,f=0;f<h;f++){var w=this.possibleCenters[f];if(w.aboutEquals(s,a,o))return new r(o,a,s)}var u=new r(o,a,s);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return null},i.prototype.find=function(){for(var t=this.image,e=this.startX,n=this.height,r=e+this.width,i=this.startY+(n>>1),o=[0,0,0],a=0;a<n;a++){var s=i+(0==(1&a)?a+1>>1:-(a+1>>1));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<r&&!t.data[h+t.width*s];)h++;for(var f=0;h<r;){if(t.data[h+s*t.width])if(1==f)o[f]++;else if(2==f){if(this.foundPatternCross(o)){var w=this.handlePossibleCenter(o,s,h);if(null!=w)return w}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else 1==f&&f++,o[f]++;h++}if(this.foundPatternCross(o)){var w=this.handlePossibleCenter(o,s,r);if(null!=w)return w}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw\\\"Couldn't find enough alignment patterns\\\"}},function(t,e,n){\\\"use strict\\\";function r(t){var e=t.Dimension;if(e<21||1!=(3&e))throw\\\"Error BitMatrixParser\\\";this.bitMatrix=t,this.parsedVersion=null,this.parsedFormatInfo=null}var i=n(3),o=n(5),a=n(12);e.a=r,r.prototype.copyBit=function(t,e,n){return this.bitMatrix.get_Renamed(t,e)?n<<1|1:n<<1},r.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=i.a.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var r=this.bitMatrix.Dimension;t=0;for(var o=r-8,e=r-1;e>=o;e--)t=this.copyBit(e,8,t);for(var n=r-7;n<r;n++)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=i.a.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw\\\"Error readFormatInformation\\\"},r.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.Dimension,e=t-17>>2;if(e<=6)return o.a.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var a=t-9;a>=r;a--)n=this.copyBit(a,i,n);if(this.parsedVersion=o.a.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;n=0;for(var a=5;a>=0;a--)for(var i=t-9;i>=r;i--)n=this.copyBit(a,i,n);if(this.parsedVersion=o.a.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;throw\\\"Error readVersion\\\"},r.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=a.a.forReference(t.dataMask),r=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),o=!0,s=new Array(e.totalCodewords),h=0,f=0,w=0,u=r-1;u>0;u-=2){6==u&&u--;for(var l=0;l<r;l++)for(var c=o?r-1-l:l,d=0;d<2;d++)i.get_Renamed(u-d,c)||(w++,f<<=1,this.bitMatrix.get_Renamed(u-d,c)&&(f|=1),8==w&&(s[h++]=f,w=0,f=0));o^=!0}if(h!=e.totalCodewords)throw\\\"Error readCodewords\\\";return s}},function(t,e,n){\\\"use strict\\\";function r(t,e){this.numDataCodewords=t,this.codewords=e}e.a=r,r.getDataBlocks=function(t,e,n){if(t.length!=e.totalCodewords)throw\\\"ArgumentException\\\";for(var i=e.getECBlocksForLevel(n),o=0,a=i.getECBlocks(),s=0;s<a.length;s++)o+=a[s].count;for(var h=new Array(o),f=0,w=0;w<a.length;w++)for(var u=a[w],s=0;s<u.count;s++){var l=u.dataCodewords,c=i.ecCodewordsPerBlock+l;h[f++]=new r(l,new Array(c))}for(var d=h[0].codewords.length,p=h.length-1;p>=0;){var g=h[p].codewords.length;if(g==d)break;p--}p++;for(var v=d-i.ecCodewordsPerBlock,m=0,s=0;s<v;s++)for(var w=0;w<f;w++)h[w].codewords[s]=t[m++];for(var w=p;w<f;w++)h[w].codewords[v]=t[m++];for(var b=h[0].codewords.length,s=v;s<b;s++)for(var w=0;w<f;w++){var y=w<p?s:s+1;h[w].codewords[y]=t[m++]}return h}},function(t,e,n){\\\"use strict\\\";function r(t,e,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=t,this.numErrorCorrectionCode=n,e<=9?this.dataLengthMode=0:e>=10&&e<=26?this.dataLengthMode=1:e>=27&&e<=40&&(this.dataLengthMode=2)}var i=n(0);e.a=r,r.prototype.getNextBits=function(t){var e=0;if(t<this.bitPointer+1){for(var n=0,r=0;r<t;r++)n+=1<<r;return n<<=this.bitPointer-t+1,e=(this.blocks[this.blockPointer]&n)>>this.bitPointer-t+1,this.bitPointer-=t,e}if(t<this.bitPointer+1+8){for(var i=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;return e=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1),this.blockPointer++,e+=this.blocks[this.blockPointer]>>8-(t-(this.bitPointer+1)),this.bitPointer=this.bitPointer-t%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}if(t<this.bitPointer+1+16){for(var i=0,o=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;var a=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<t-(this.bitPointer+1+8);this.blockPointer++;for(var r=0;r<t-(this.bitPointer+1+8);r++)o+=1<<r;o<<=8-(t-(this.bitPointer+1+8));var h=(this.blocks[this.blockPointer]&o)>>8-(t-(this.bitPointer+1+8));return e=a+s+h,this.bitPointer=this.bitPointer-(t-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}return 0},r.prototype.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},r.prototype.getDataLength=function(t){for(var e=0;;){if(t>>e==1)break;e++}return this.getNextBits(i.b.sizeOfDataLengthInfo[this.dataLengthMode][e])},r.prototype.getRomanAndFigureString=function(t){var e=t,n=0,r=\\\"\\\",i=[\\\"0\\\",\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"F\\\",\\\"G\\\",\\\"H\\\",\\\"I\\\",\\\"J\\\",\\\"K\\\",\\\"L\\\",\\\"M\\\",\\\"N\\\",\\\"O\\\",\\\"P\\\",\\\"Q\\\",\\\"R\\\",\\\"S\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\" \\\",\\\"$\\\",\\\"%\\\",\\\"*\\\",\\\"+\\\",\\\"-\\\",\\\".\\\",\\\"/\\\",\\\":\\\"];do if(e>1){n=this.getNextBits(11);var o=Math.floor(n/45),a=n%45;r+=i[o],r+=i[a],e-=2}else 1==e&&(n=this.getNextBits(6),r+=i[n],e-=1);while(e>0);return r},r.prototype.getFigureString=function(t){var e=t,n=0,r=\\\"\\\";do e>=3?(n=this.getNextBits(10),n<100&&(r+=\\\"0\\\"),n<10&&(r+=\\\"0\\\"),e-=3):2==e?(n=this.getNextBits(7),n<10&&(r+=\\\"0\\\"),e-=2):1==e&&(n=this.getNextBits(4),e-=1),r+=n;while(e>0);return r},r.prototype.get8bitByteArray=function(t){var e=t,n=0,r=[];do n=this.getNextBits(8),r.push(n),e--;while(e>0);return r},r.prototype.getKanjiString=function(t){var e=t,n=0,r=\\\"\\\";do{n=this.getNextBits(13);var i=n%192,o=n/192,a=(o<<8)+i,s=0;s=a+33088<=40956?a+33088:a+49472,r+=String.fromCharCode(s),e--}while(e>0);return r},Object.defineProperty(r.prototype,\\\"DataByte\\\",{get:function(){for(var t=[],e=1,n=2,r=4,i=8;;){var o=this.NextMode();if(0==o){if(t.length>0)break;throw\\\"Empty data block\\\"}if(o!=e&&o!=n&&o!=r&&o!=i)throw\\\"Invalid mode: \\\"+o+\\\" in (block:\\\"+this.blockPointer+\\\" bit:\\\"+this.bitPointer+\\\")\\\";var a=this.getDataLength(o);if(a<1)throw\\\"Invalid data length: \\\"+a;switch(o){case e:for(var s=this.getFigureString(a),h=new Array(s.length),f=0;f<s.length;f++)h[f]=s.charCodeAt(f);t.push(h);break;case n:for(var s=this.getRomanAndFigureString(a),h=new Array(s.length),f=0;f<s.length;f++)h[f]=s.charCodeAt(f);t.push(h);break;case r:var w=this.get8bitByteArray(a);t.push(w);break;case i:var s=this.getKanjiString(a);t.push(s)}}return t}})},function(t,e,n){\\\"use strict\\\";function r(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(t+e&1)}}function i(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(1&t)}}function o(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return e%3==0}}function a(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return(t+e)%3==0}}function s(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(n.i(u.c)(t,1)+e/3&1)}}function h(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return(1&n)+n%3==0}}function f(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return 0==((1&n)+n%3&1)}}function w(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==((t+e&1)+t*e%3&1)}}var u=n(0),l={};l.forReference=function(t){if(t<0||t>7)throw\\\"System.ArgumentException\\\";return l.DATA_MASKS[t]},l.DATA_MASKS=[new r,new i,new o,new a,new s,new h,new f,new w],e.a=l},function(t,e,n){\\\"use strict\\\";var r=n(18),i=n(1),o=n(9),a=n(10),s=n(11),h={};h.rsDecoder=new r.a(i.a.QR_CODE_FIELD),h.correctErrors=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=255&t[i];var o=t.length-e;try{h.rsDecoder.decode(r,o)}catch(t){throw t}for(var i=0;i<e;i++)t[i]=r[i]},h.decode=function(t){for(var e=new o.a(t),n=e.readVersion(),r=e.readFormatInformation().errorCorrectionLevel,i=e.readCodewords(),f=a.a.getDataBlocks(i,n,r),w=0,u=0;u<f.length;u++)w+=f[u].numDataCodewords;for(var l=new Array(w),c=0,d=0;d<f.length;d++){var p=f[d],g=p.codewords,v=p.numDataCodewords;h.correctErrors(g,v);for(var u=0;u<v;u++)l[c++]=g[u]}var m=new s.a(l,n.versionNumber,r.bits);return m},e.a=h},function(t,e,n){\\\"use strict\\\";function r(t,e,n,r,i,o,a,s,h){this.a11=t,this.a12=r,this.a13=a,this.a21=e,this.a22=i,this.a23=s,this.a31=n,this.a32=o,this.a33=h}function i(t,e){this.bits=t,this.points=e}function o(t){this.image=t,this.resultPointCallback=null}var a=n(5),s=n(8),h=n(17),f=n(16);e.a=o,r.prototype.transformPoints1=function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,h=this.a31,f=this.a32,w=this.a33,u=0;u<e;u+=2){var l=t[u],c=t[u+1],d=i*l+s*c+w;t[u]=(n*l+o*c+h)/d,t[u+1]=(r*l+a*c+f)/d}},r.prototype.transformPoints2=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[r],a=this.a13*i+this.a23*o+this.a33;t[r]=(this.a11*i+this.a21*o+this.a31)/a,e[r]=(this.a12*i+this.a22*o+this.a32)/a}},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(t){return new r(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},r.quadrilateralToQuadrilateral=function(t,e,n,r,i,o,a,s,h,f,w,u,l,c,d,p){var g=this.quadrilateralToSquare(t,e,n,r,i,o,a,s),v=this.squareToQuadrilateral(h,f,w,u,l,c,d,p);return v.times(g)},r.squareToQuadrilateral=function(t,e,n,i,o,a,s,h){var f=h-a,w=e-i+a-h;if(0==f&&0==w)return new r(n-t,o-n,t,i-e,a-i,e,0,0,1);\\nvar u=n-o,l=s-o,c=t-n+o-s,d=i-a,p=u*f-l*d,g=(c*f-l*w)/p,v=(u*w-c*d)/p;return new r(n-t+g*n,s-t+v*s,t,i-e+g*i,h-e+v*h,e,g,v,1)},r.quadrilateralToSquare=function(t,e,n,r,i,o,a,s){return this.squareToQuadrilateral(t,e,n,r,i,o,a,s).buildAdjoint()},o.prototype.sizeOfBlackWhiteBlackRun=function(t,e,n,r){var i=Math.abs(r-e)>Math.abs(n-t);if(i){var o=t;t=e,e=o,o=n,n=r,r=o}for(var a=Math.abs(n-t),s=Math.abs(r-e),h=-a>>1,f=e<r?1:-1,w=t<n?1:-1,u=0,l=t,c=e;l!=n;l+=w){var d=i?c:l,p=i?l:c;if(1==u?this.image.data[d+p*this.image.width]&&u++:this.image.data[d+p*this.image.width]||u++,3==u){var g=l-t,v=c-e;return Math.sqrt(g*g+v*v)}if(h+=s,h>0){if(c==r)break;c+=f,h-=a}}var m=n-t,b=r-e;return Math.sqrt(m*m+b*b)},o.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,n,r){var i=this.sizeOfBlackWhiteBlackRun(t,e,n,r),o=1,a=t-(n-t);a<0?(o=t/(t-a),a=0):a>=this.image.width&&(o=(this.image.width-1-t)/(a-t),a=this.image.width-1);var s=Math.floor(e-(r-e)*o);return o=1,s<0?(o=e/(e-s),s=0):s>=this.image.height&&(o=(this.image.height-1-e)/(s-e),s=this.image.height-1),a=Math.floor(t+(a-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,e,a,s),i-1},o.prototype.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},o.prototype.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},o.prototype.distance=function(t,e){var n=t.X-e.X,r=t.Y-e.Y;return Math.sqrt(n*n+r*r)},o.prototype.computeDimension=function(t,e,n,r){var i=Math.round(this.distance(t,e)/r),o=Math.round(this.distance(t,n)/r),a=(i+o>>1)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw\\\"Error\\\"}return a},o.prototype.findAlignmentInRegion=function(t,e,n,r){var i=Math.floor(r*t),o=Math.max(0,e-i),a=Math.min(this.image.width-1,e+i);if(a-o<3*t)throw\\\"Error\\\";var h=Math.max(0,n-i),f=Math.min(this.image.height-1,n+i),w=new s.a(this.image,o,h,a-o,f-h,t,this.resultPointCallback);return w.find()},o.prototype.createTransform=function(t,e,n,i,o){var a,s,h,f,w=o-3.5;null!=i?(a=i.X,s=i.Y,h=f=w-3):(a=e.X-t.X+n.X,s=e.Y-t.Y+n.Y,h=f=w);var u=r.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,h,f,3.5,w,t.X,t.Y,e.X,e.Y,a,s,n.X,n.Y);return u},o.prototype.sampleGrid=function(t,e,n){var r=h.a;return r.sampleGrid3(t,n,e)},o.prototype.processFinderPatternInfo=function(t){var e=t.topLeft,n=t.topRight,r=t.bottomLeft,o=this.calculateModuleSize(e,n,r);if(o<1)throw\\\"Error\\\";var s=this.computeDimension(e,n,r,o),h=a.a.getProvisionalVersionForDimension(s),f=h.DimensionForVersion-7,w=null;if(h.alignmentPatternCenters.length>0)for(var u=n.X-e.X+r.X,l=n.Y-e.Y+r.Y,c=1-3/f,d=Math.floor(e.X+c*(u-e.X)),p=Math.floor(e.Y+c*(l-e.Y)),g=4;g<=16;g<<=1){w=this.findAlignmentInRegion(o,d,p,g);break}var v,m=this.createTransform(e,n,r,w,s),b=this.sampleGrid(this.image,m,s);return v=null==w?[r,e,n]:[r,e,n,w],new i(b,v)},o.prototype.detect=function(){var t=(new f.a).findFinderPattern(this.image);return this.processFinderPatternInfo(t)}},function(t,e,n){\\\"use strict\\\";function r(t,e,n){this.ordinal_Renamed_Field=t,this.bits=e,this.name=n}e.a=r,r.prototype.ordinal=function(){return this.ordinal_Renamed_Field},r.forBits=function(t){if(t<0||t>=i.length)throw\\\"ArgumentException\\\";return i[t]};var i=[new r(1,0,\\\"M\\\"),new r(0,1,\\\"L\\\"),new r(3,2,\\\"H\\\"),new r(2,3,\\\"Q\\\")]},function(t,e,n){\\\"use strict\\\";function r(t){function e(t,e){var n=t.X-e.X,r=t.Y-e.Y;return Math.sqrt(n*n+r*r)}function n(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)}var r,i,o,a=e(t[0],t[1]),s=e(t[1],t[2]),h=e(t[0],t[2]);if(s>=a&&s>=h?(i=t[0],r=t[1],o=t[2]):h>=s&&h>=a?(i=t[1],r=t[0],o=t[2]):(i=t[2],r=t[0],o=t[1]),n(r,i,o)<0){var f=r;r=o,o=f}t[0]=r,t[1]=i,t[2]=o}function i(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n}function o(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}function a(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=[0,0,0,0,0],this.resultPointCallback=null}e.a=a;var s=3,h=57,f=8,w=2;Object.defineProperty(i.prototype,\\\"X\\\",{get:function(){return this.x}}),Object.defineProperty(i.prototype,\\\"Y\\\",{get:function(){return this.y}}),i.prototype.incrementCount=function(){this.count++},i.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1},Object.defineProperty(a.prototype,\\\"CrossCheckStateCount\\\",{get:function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}}),a.prototype.foundPatternCross=function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0==r)return!1;e+=r}if(e<7)return!1;var i=Math.floor((e<<f)/7),o=Math.floor(i/2);return Math.abs(i-(t[0]<<f))<o&&Math.abs(i-(t[1]<<f))<o&&Math.abs(3*i-(t[2]<<f))<3*o&&Math.abs(i-(t[3]<<f))<o&&Math.abs(i-(t[4]<<f))<o},a.prototype.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},a.prototype.crossCheckVertical=function(t,e,n,r){for(var i=this.image,o=i.height,a=this.CrossCheckStateCount,s=t;s>=0&&i.data[e+s*i.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.data[e+s*i.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i.data[e+s*i.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=t+1;s<o&&i.data[e+s*i.width];)a[2]++,s++;if(s==o)return NaN;for(;s<o&&!i.data[e+s*i.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return NaN;for(;s<o&&i.data[e+s*i.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},a.prototype.crossCheckHorizontal=function(t,e,n,r){for(var i=this.image,o=i.width,a=this.CrossCheckStateCount,s=t;s>=0&&i.data[s+e*i.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.data[s+e*i.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i.data[s+e*i.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=t+1;s<o&&i.data[s+e*i.width];)a[2]++,s++;if(s==o)return NaN;for(;s<o&&!i.data[s+e*i.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return NaN;for(;s<o&&i.data[s+e*i.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-r)>=r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},a.prototype.handlePossibleCenter=function(t,e,n){var r=t[0]+t[1]+t[2]+t[3]+t[4],o=this.centerFromEnd(t,n),a=this.crossCheckVertical(e,Math.floor(o),t[2],r);if(!isNaN(a)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(a),t[2],r),!isNaN(o))){for(var s=r/7,h=!1,f=this.possibleCenters.length,w=0;w<f;w++){var u=this.possibleCenters[w];if(u.aboutEquals(s,a,o)){u.incrementCount(),h=!0;break}}if(!h){var l=new i(o,a,s);this.possibleCenters.push(l),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(l)}return!0}return!1},a.prototype.selectBestPatterns=function(){var t=this.possibleCenters.length;if(t<3)throw\\\"Couldn't find enough finder patterns:\\\"+t+\\\" patterns found\\\";if(t>3){for(var e=0,n=0,r=0;r<t;r++){var i=this.possibleCenters[r].estimatedModuleSize;e+=i,n+=i*i}var o=e/t;this.possibleCenters.sort(function(t,e){var n=Math.abs(e.estimatedModuleSize-o),r=Math.abs(t.estimatedModuleSize-o);return n<r?-1:n==r?0:1});for(var a=Math.sqrt(n/t-o*o),s=Math.max(.2*o,a),r=this.possibleCenters-1;r>=0;r--){var h=this.possibleCenters[r];Math.abs(h.estimatedModuleSize-o)>s&&this.possibleCenters.splice(r,1)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(t,e){return t.count>e.count?-1:t.count<e.count?1:0}),[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]},a.prototype.findRowSkip=function(){var t=this.possibleCenters.length;if(t<=1)return 0;for(var e=null,n=0;n<t;n++){var r=this.possibleCenters[n];if(r.count>=w){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.X-r.X)-Math.abs(e.Y-r.Y))/2);e=r}}return 0},a.prototype.haveMultiplyConfirmedCenters=function(){for(var t=0,e=0,n=this.possibleCenters.length,r=0;r<n;r++){var i=this.possibleCenters[r];i.count>=w&&(t++,e+=i.estimatedModuleSize)}if(t<3)return!1;for(var o=e/n,a=0,r=0;r<n;r++)i=this.possibleCenters[r],a+=Math.abs(i.estimatedModuleSize-o);return a<=.05*e},a.prototype.findFinderPattern=function(t){var e=!1;this.image=t;var n=t.height,i=t.width,a=Math.floor(3*n/(4*h));(a<s||e)&&(a=s);for(var f=!1,w=new Array(5),u=a-1;u<n&&!f;u+=a){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;for(var l=0,c=0;c<i;c++)if(t.data[c+u*t.width])1==(1&l)&&l++,w[l]++;else if(0==(1&l))if(4==l)if(this.foundPatternCross(w)){var d=this.handlePossibleCenter(w,u,c);if(d)if(a=2,this.hasSkipped)f=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>w[2]&&(u+=p-w[2]-a,c=i-1)}else{do c++;while(c<i&&!t.data[c+u*t.width]);c--}l=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,l=3;else w[++l]++;else w[l]++;if(this.foundPatternCross(w)){var d=this.handlePossibleCenter(w,u,i);d&&(a=w[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return r(g),new o(g)}},function(t,e,n){\\\"use strict\\\";var r=n(2),i={};i.checkAndNudgePoints=function(t,e){for(var n=t.width,r=t.height,i=!0,o=0;o<e.length&&i;o+=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw\\\"Error.checkAndNudgePoints \\\";i=!1,a==-1?(e[o]=0,i=!0):a==n&&(e[o]=n-1,i=!0),s==-1?(e[o+1]=0,i=!0):s==r&&(e[o+1]=r-1,i=!0)}i=!0;for(var o=e.length-2;o>=0&&i;o-=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw\\\"Error.checkAndNudgePoints \\\";i=!1,a==-1?(e[o]=0,i=!0):a==n&&(e[o]=n-1,i=!0),s==-1?(e[o+1]=0,i=!0):s==r&&(e[o+1]=r-1,i=!0)}},i.sampleGrid3=function(t,e,n){for(var o=new r.a(e),a=new Array(e<<1),s=0;s<e;s++){for(var h=a.length,f=s+.5,w=0;w<h;w+=2)a[w]=(w>>1)+.5,a[w+1]=f;n.transformPoints1(a),i.checkAndNudgePoints(t,a);try{for(var w=0;w<h;w+=2){var u=t.data[Math.floor(a[w])+t.width*Math.floor(a[w+1])];u&&o.set_Renamed(w>>1,s)}}catch(t){throw\\\"Error.checkAndNudgePoints\\\"}}return o},e.a=i},function(t,e,n){\\\"use strict\\\";function r(t){this.field=t}var i=n(1),o=n(4);e.a=r,r.prototype.decode=function(t,e){for(var n=new o.a(this.field,t),r=new Array(e),a=0;a<r.length;a++)r[a]=0;for(var s=!1,h=!0,a=0;a<e;a++){var f=n.evaluateAt(this.field.exp(s?a+1:a));r[r.length-1-a]=f,0!=f&&(h=!1)}if(!h)for(var w=new o.a(this.field,r),u=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),w,e),l=u[0],c=u[1],d=this.findErrorLocations(l),p=this.findErrorMagnitudes(c,d,s),a=0;a<d.length;a++){var g=t.length-1-this.field.log(d[a]);if(g<0)throw\\\"ReedSolomonException Bad error location\\\";t[g]=i.a.addOrSubtract(t[g],p[a])}},r.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.Degree<e.Degree){var r=t;t=e,e=r}for(var i=t,o=e,a=this.field.One,s=this.field.Zero,h=this.field.Zero,f=this.field.One;o.Degree>=Math.floor(n/2);){var w=i,u=a,l=h;if(i=o,a=s,h=f,i.Zero)throw\\\"r_{i-1} was zero\\\";o=w;for(var c=this.field.Zero,d=i.getCoefficient(i.Degree),p=this.field.inverse(d);o.Degree>=i.Degree&&!o.Zero;){var g=o.Degree-i.Degree,v=this.field.multiply(o.getCoefficient(o.Degree),p);c=c.addOrSubtract(this.field.buildMonomial(g,v)),o=o.addOrSubtract(i.multiplyByMonomial(g,v))}s=c.multiply1(a).addOrSubtract(u),f=c.multiply1(h).addOrSubtract(l)}var m=f.getCoefficient(0);if(0==m)throw\\\"ReedSolomonException sigmaTilde(0) was zero\\\";var b=this.field.inverse(m),y=f.multiply2(b),C=o.multiply2(b);return[y,C]},r.prototype.findErrorLocations=function(t){var e=t.Degree;if(1==e)return new Array(t.getCoefficient(1));for(var n=new Array(e),r=0,i=1;i<256&&r<e;i++)0==t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!=e)throw\\\"Error locator degree does not match number of roots\\\";return n},r.prototype.findErrorMagnitudes=function(t,e,n){for(var r=e.length,o=new Array(r),a=0;a<r;a++){for(var s=this.field.inverse(e[a]),h=1,f=0;f<r;f++)a!=f&&(h=this.field.multiply(h,i.a.addOrSubtract(1,this.field.multiply(e[f],s))));o[a]=this.field.multiply(t.evaluateAt(s),this.field.inverse(h)),n&&(o[a]=this.field.multiply(o[a],s))}return o}},function(t,e,n){(function(t){t={};var e=n(6).default,r=new e;r.callback=function(t,e){postMessage({result:t,err:e})},onmessage=function(t){var e=t.data;r.decode(e)}}).call(e,n(7)(t))}]);\"\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n /* eslint-env node */\n\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0],\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  // FIXME: for RTX there might be multiple SSRCs. Not implemented in Edge yet.\n  if (transceiver.rtpSender) {\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var logging = __webpack_require__(0).log;\n  var browserDetails = __webpack_require__(0).browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = __webpack_require__(0).extractVersion;\n  module.exports.disableLog = __webpack_require__(0).disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = __webpack_require__(6) || null;\n  var edgeShim = __webpack_require__(8) || null;\n  var firefoxShim = __webpack_require__(10) || null;\n  var safariShim = __webpack_require__(12) || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'opera': // fallthrough as it uses chrome shims\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\nvar logging = __webpack_require__(0).log;\nvar browserDetails = __webpack_require__(0).browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      // Translate iceTransportPolicy to iceTransports,\n      // see https://code.google.com/p/webrtc/issues/detail?id=4869\n      logging('PeerConnection');\n      if (pcConfig && pcConfig.iceTransportPolicy) {\n        pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n      }\n\n      var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      var origGetStats = pc.getStats.bind(pc);\n      pc.getStats = function(selector, successCallback, errorCallback) {\n        var self = this;\n        var args = arguments;\n\n        // If selector is a function then we are in the old style stats so just\n        // pass back the original getStats format to avoid breaking old users.\n        if (arguments.length > 0 && typeof selector === 'function') {\n          return origGetStats(selector, successCallback);\n        }\n\n        var fixChromeStats_ = function(response) {\n          var standardReport = {};\n          var reports = response.result();\n          reports.forEach(function(report) {\n            var standardStats = {\n              id: report.id,\n              timestamp: report.timestamp,\n              type: report.type\n            };\n            report.names().forEach(function(name) {\n              standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n          });\n\n          return standardReport;\n        };\n\n        // shim getStats with maplike support\n        var makeMapStats = function(stats, legacyStats) {\n          var map = new Map(Object.keys(stats).map(function(key) {\n            return[key, stats[key]];\n          }));\n          legacyStats = legacyStats || stats;\n          Object.keys(legacyStats).forEach(function(key) {\n            map[key] = legacyStats[key];\n          });\n          return map;\n        };\n\n        if (arguments.length >= 2) {\n          var successCallbackWrapper_ = function(response) {\n            args[1](makeMapStats(fixChromeStats_(response)));\n          };\n\n          return origGetStats.apply(this, [successCallbackWrapper_,\n              arguments[0]]);\n        }\n\n        // promise-support\n        return new Promise(function(resolve, reject) {\n          if (args.length === 1 && typeof selector === 'object') {\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response)));\n              }, reject]);\n          } else {\n            // Preserve legacy chrome stats only on legacy access of stats obj\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response),\n                    response.result()));\n              }, reject]);\n          }\n        }).then(successCallback, errorCallback);\n      };\n\n      return pc;\n    };\n    window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n\n    // wrap static methods. Currently just generateCertificate.\n    if (webkitRTCPeerConnection.generateCertificate) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return webkitRTCPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = webkitRTCPeerConnection.prototype[method];\n      webkitRTCPeerConnection.prototype[method] = function() {\n        var self = this;\n        if (arguments.length < 1 || (arguments.length === 1 &&\n            typeof arguments[0] === 'object')) {\n          var opts = arguments.length === 1 ? arguments[0] : undefined;\n          return new Promise(function(resolve, reject) {\n            nativeMethod.apply(self, [resolve, reject, opts]);\n          });\n        }\n        return nativeMethod.apply(this, arguments);\n      };\n    });\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = webkitRTCPeerConnection.prototype[method];\n            webkitRTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = webkitRTCPeerConnection.prototype[method];\n          webkitRTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(7)\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\nvar logging = __webpack_require__(0).log;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar SDPUtils = __webpack_require__(4);\nvar browserDetails = __webpack_require__(0).browserDetails;\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed.\n      var origMSTEnabled = Object.getOwnPropertyDescriptor(\n          MediaStreamTrack.prototype, 'enabled');\n      Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n        set: function(value) {\n          origMSTEnabled.set.call(this, value);\n          var ev = new Event('enabled');\n          ev.enabled = value;\n          this.dispatchEvent(ev);\n        }\n      });\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          case 'none':\n            // FIXME: remove once implementation and spec have added this.\n            throw new TypeError('iceTransportPolicy \"none\" not supported');\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        // Edge does not like\n        // 1) stun:\n        // 2) turn: that does not have all of turn:host:port?transport=udp\n        // 3) turn: with ipv6 addresses\n        var iceServers = JSON.parse(JSON.stringify(config.iceServers));\n        this.iceOptions.iceServers = iceServers.filter(function(server) {\n          if (server && server.urls) {\n            var urls = server.urls;\n            if (typeof urls === 'string') {\n              urls = [urls];\n            }\n            urls = urls.filter(function(url) {\n              return (url.indexOf('turn:') === 0 &&\n                  url.indexOf('transport=udp') !== -1 &&\n                  url.indexOf('turn:[') === -1) ||\n                  (url.indexOf('stun:') === 0 &&\n                    browserDetails.version >= 14393);\n            })[0];\n            return !!urls;\n          }\n          return false;\n        });\n      }\n      this._config = config;\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else if (event.candidate.candidate.indexOf('typ endOfCandidates')\n            === -1) {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete) {\n            self.iceGatheringState = 'complete';\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.getConfiguration = function() {\n      return this._config;\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      this.localStreams.push(clonedStream);\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate) {\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels,\n                    rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n\n              // Emit a candidate with type endOfCandidates to make the samples\n              // work. Edge requires addIceCandidate with this empty candidate\n              // to start checking. The real solution is to signal\n              // end-of-candidates to the other side when getting the null\n              // candidate but some apps (like the samples) don't do that.\n              event.candidate.candidate =\n                  'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates';\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (event.candidate.candidate.indexOf('typ endOfCandidates')\n                === -1) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n\n            var complete = self.transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                self._localIceCandidatesBuffer.push(event);\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                self.dispatchEvent(event);\n                if (self.onicecandidate !== null) {\n                  self.onicecandidate(event);\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        // remove RTX field in Edge 14942\n        if (transceiver.kind === 'video'\n            && transceiver.recvEncodingParameters) {\n          transceiver.recvEncodingParameters.forEach(function(p) {\n            delete p.rtx;\n          });\n        }\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                  .map(function(cand) {\n                    return SDPUtils.parseCandidate(cand);\n                  })\n                  .filter(function(cand) {\n                    return cand.component === '1';\n                  });\n                  // ice-lite only includes host candidates in the SDP so we can\n                  // use setRemoteCandidates (which implies an\n                  // RTCIceCandidateComplete)\n                  if (cands.length) {\n                    iceTransport.setRemoteCandidates(cands);\n                  }\n                }\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\n              // filter RTX until additional stuff needed for RTX is implemented\n              // in adapter.js\n              localCapabilities.codecs = localCapabilities.codecs.filter(\n                  function(codec) {\n                    return codec.name !== 'rtx';\n                  });\n\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n\n              track = rtpReceiver.track;\n              receiverList.push([track, rtpReceiver]);\n              // FIXME: not correct when there are multiple streams but that is\n              // not currently supported in this shim.\n              stream.addTrack(track);\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(event);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n        localCapabilities.codecs.forEach(function(codec) {\n          // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n          // by adding level-asymmetry-allowed=1\n          if (codec.name === 'H264' &&\n              codec.parameters['level-asymmetry-allowed'] === undefined) {\n            codec.parameters['level-asymmetry-allowed'] = '1';\n          }\n        });\n\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (!candidate) {\n        this.transceivers.forEach(function(transceiver) {\n          transceiver.iceTransport.addRemoteCandidate({});\n        });\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return;\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return;\n          }\n          // A dirty hack to make samples work.\n          if (cand.type === 'endOfCandidates') {\n            cand = {};\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              results.set(id, result[id]);\n              results[id] = result[id];\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(9)\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar browserDetails = __webpack_require__(0).browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    if (browserDetails.version < 48) {\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        var map = new Map();\n        Object.keys(stats).forEach(function(key) {\n          map.set(key, stats[key]);\n          map[key] = stats[key];\n        });\n        return map;\n      };\n\n      var nativeGetStats = RTCPeerConnection.prototype.getStats;\n      RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n        return nativeGetStats.apply(this, [selector || null])\n          .then(function(stats) {\n            return makeMapStats(stats);\n          })\n          .then(onSucc, onErr);\n      };\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: __webpack_require__(11)\n};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar logging = __webpack_require__(0).log;\nvar browserDetails = __webpack_require__(0).browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    navigator.getUserMedia = navigator.webkitGetUserMedia;\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction QRScanner() {\r\n  var createQRScannerAdapter = __webpack_require__(2);\r\n  var createQRScannerInternal = __webpack_require__(1);\r\n\r\n  var internal = createQRScannerInternal();\r\n  var functionList = {\r\n      prepare: internal.prepare,\r\n      show: internal.show,\r\n      hide: internal.hide,\r\n      scan: internal.scan,\r\n      cancelScan: internal.cancelScan,\r\n      pausePreview: internal.pausePreview,\r\n      resumePreview: internal.resumePreview,\r\n      enableLight: internal.enableLight,\r\n      disableLight: internal.disableLight,\r\n      useCamera: internal.useCamera,\r\n      openSettings: internal.openSettings,\r\n      getStatus: internal.getStatus,\r\n      destroy: internal.destroy\r\n  };\r\n\r\n  // always returns an executable function for use by the internal component\r\n  // if a callback is provided, use it\r\n  function getFunc(callback){\r\n    if(typeof callback === \"function\"){\r\n      return callback;\r\n    }\r\n    return function(){\r\n      // callback is not needed\r\n      return;\r\n    };\r\n  }\r\n\r\n  // shim cordova's functionality for library usage\r\n  var shimCordova = {\r\n    exec: function(successCallback, errorCallback, className, functionName, inputArray){\r\n      if(className !== 'QRScanner' || !functionList[functionName]){\r\n        return errorCallback(0);\r\n      }\r\n      if(inputArray){\r\n        functionList[functionName](getFunc(successCallback), getFunc(errorCallback), inputArray);\r\n      } else {\r\n        functionList[functionName](getFunc(successCallback), getFunc(errorCallback));\r\n      }\r\n    }\r\n  };\r\n\r\n  var adapter = createQRScannerAdapter(shimCordova);\r\n  return adapter;\r\n}\r\n\r\nmodule.exports = new QRScanner();\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cordova-plugin-qrscanner-lib.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c95ca805c66d7f2c6105","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/([0-9]+)\\./, 1);\n\n    // all webkit-based browsers\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\n      // Safari or unknown webkit-based\n      // for the time being Safari has support for MediaStreams but not webRTC\n      } else {\n        // Safari UA substrings of interest for reference:\n        // - webkit version:           AppleWebKit/602.1.25 (also used in Op,Cr)\n        // - safari UI version:        Version/9.0.3 (unique to Safari)\n        // - safari UI webkit version: Safari/601.4.4 (also used in Op,Cr)\n        //\n        // if the webkit version and safari UI webkit versions are equals,\n        // ... this is a stable version.\n        //\n        // only the internal webkit version is important today to know if\n        // media streams are supported\n        //\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/([0-9]+)\\./, 1);\n\n        // unknown webkit-based browser\n        } else {\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n\n    // Edge.\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n\n    // Default fallthrough: not supported.\n    } else {\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/utils.js\n// module id = 0\n// module chunks = 0","require('webrtc-adapter');\r\nvar workerScript = require(\"raw-loader!../worker.min.js\");\r\n\r\nmodule.exports = function(){\r\n\r\n  var ELEMENTS = {\r\n    preview: 'cordova-plugin-qrscanner-video-preview',\r\n    still: 'cordova-plugin-qrscanner-still'\r\n  };\r\n  var ZINDEXES = {\r\n    preview: -100,\r\n    still: -99\r\n  };\r\n  var backCamera = null;\r\n  var frontCamera = null;\r\n  var currentCamera = 0;\r\n  var activeMediaStream = null;\r\n  var scanning = false;\r\n  var previewing = false;\r\n  var scanWorker = null;\r\n  var thisScanCycle = null;\r\n  var nextScan = null;\r\n  var cancelNextScan = null;\r\n\r\n  // standard screen widths/heights, from 4k down to 320x240\r\n  // widths and heights are each tested separately to account for screen rotation\r\n  var standardWidthsAndHeights = [\r\n    5120, 4096, 3840, 3440, 3200, 3072, 3000, 2880, 2800, 2736, 2732, 2560,\r\n    2538, 2400, 2304, 2160, 2100, 2048, 2000, 1920, 1856, 1824, 1800, 1792,\r\n    1776, 1728, 1700, 1680, 1600, 1536, 1440, 1400, 1392, 1366, 1344, 1334,\r\n    1280, 1200, 1152, 1136, 1120, 1080, 1050, 1024, 1000, 960, 900, 854, 848,\r\n    832, 800, 768, 750, 720, 640, 624, 600, 576, 544, 540, 512, 480, 320, 240\r\n  ];\r\n\r\n  var facingModes = [\r\n    'environment',\r\n    'user'\r\n  ];\r\n\r\n  //utils\r\n  function killStream(mediaStream){\r\n    mediaStream.getTracks().forEach(function(track){\r\n      track.stop();\r\n    });\r\n  }\r\n\r\n  // For performance, we test best-to-worst constraints. Once we find a match,\r\n  // we move to the next test. Since `ConstraintNotSatisfiedError`s are thrown\r\n  // much faster than streams can be started and stopped, the scan is much\r\n  // faster, even though it may iterate through more constraint objects.\r\n  function getCameraSpecsById(deviceId){\r\n\r\n    // return a getUserMedia Constraints\r\n    function getConstraintObj(deviceId, facingMode, width, height){\r\n      var obj = { audio: false, video: {} };\r\n      obj.video.deviceId = {exact: deviceId};\r\n      if(facingMode) {\r\n        obj.video.facingMode = {exact: facingMode};\r\n      }\r\n      if(width) {\r\n        obj.video.width = {exact: width};\r\n      }\r\n      if(height) {\r\n        obj.video.height = {exact: height};\r\n      }\r\n      return obj;\r\n    }\r\n\r\n    var facingModeConstraints = facingModes.map(function(mode){\r\n    \treturn getConstraintObj(deviceId, mode);\r\n    });\r\n    var widthConstraints = standardWidthsAndHeights.map(function(width){\r\n    \treturn getConstraintObj(deviceId, null, width);\r\n    });\r\n    var heightConstraints = standardWidthsAndHeights.map(function(height){\r\n    \treturn getConstraintObj(deviceId, null, null, height);\r\n    });\r\n\r\n    // create a promise which tries to resolve the best constraints for this deviceId\r\n    // rather than reject, failures return a value of `null`\r\n    function getFirstResolvingConstraint(constraintsBestToWorst){\r\n      return new Promise(function(resolveBestConstraints){\r\n        // build a chain of promises which either resolves or continues searching\r\n        return constraintsBestToWorst.reduce(function(chain, next){\r\n          return chain.then(function(searchState){\r\n            if(searchState.found){\r\n              // The best working constraint was found. Skip further tests.\r\n              return searchState;\r\n            } else {\r\n              searchState.nextConstraint = next;\r\n              return window.navigator.mediaDevices.getUserMedia(searchState.nextConstraint).then(function(mediaStream){\r\n                // We found the first working constraint object, now we can stop\r\n                // the stream and short-circuit the search.\r\n                killStream(mediaStream);\r\n                searchState.found = true;\r\n                return searchState;\r\n              }, function(){\r\n                // didn't get a media stream. The search continues:\r\n                return searchState;\r\n              });\r\n            }\r\n          });\r\n        }, Promise.resolve({\r\n          // kick off the search:\r\n          found: false,\r\n          nextConstraint: {}\r\n        })).then(function(searchState){\r\n          if(searchState.found){\r\n            resolveBestConstraints(searchState.nextConstraint);\r\n          } else {\r\n            resolveBestConstraints(null);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    return getFirstResolvingConstraint(facingModeConstraints).then(function(facingModeSpecs){\r\n      return getFirstResolvingConstraint(widthConstraints).then(function(widthSpecs){\r\n        return getFirstResolvingConstraint(heightConstraints).then(function(heightSpecs){\r\n          return {\r\n            deviceId: deviceId,\r\n            facingMode: facingModeSpecs === null ? null : facingModeSpecs.video.facingMode.exact,\r\n            width: widthSpecs === null ? null : widthSpecs.video.width.exact,\r\n            height: heightSpecs === null ? null : heightSpecs.video.height.exact\r\n          };\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  function chooseCameras(){\r\n    var devices = window.navigator.mediaDevices.enumerateDevices();\r\n    return devices.then(function(mediaDeviceInfoList){\r\n      var videoDeviceIds = mediaDeviceInfoList.filter(function(elem){\r\n        return elem.kind === 'videoinput';\r\n      }).map(function(elem){\r\n        return elem.deviceId;\r\n      });\r\n      return videoDeviceIds;\r\n    }).then(function(videoDeviceIds){\r\n      // there is no standardized way for us to get the specs of each camera\r\n      // (due to concerns over user fingerprinting), so we're forced to\r\n      // iteratively test each camera for it's capabilities\r\n      var searches = [];\r\n      videoDeviceIds.forEach(function(id){\r\n        searches.push(getCameraSpecsById(id));\r\n      });\r\n      return Promise.all(searches);\r\n    }).then(function(cameraSpecsArray){\r\n      return cameraSpecsArray.filter(function(camera){\r\n        // filter out any cameras where width and height could not be captured\r\n        if(camera !== null && camera.width !== null && camera.height !== null){\r\n          return true;\r\n        }\r\n      }).sort(function(a, b){\r\n        // sort cameras from highest resolution (by width) to lowest\r\n        return b.width - a.width;\r\n      });\r\n    }).then(function(bestToWorstCameras){\r\n      var backCamera = null,\r\n          frontCamera = null;\r\n      // choose backCamera\r\n      for(var i = 0; i < bestToWorstCameras.length; i++){\r\n        if (bestToWorstCameras[i].facingMode === 'environment'){\r\n          backCamera = bestToWorstCameras[i];\r\n          // (shouldn't be used for frontCamera)\r\n          bestToWorstCameras.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n      // if no back-facing cameras were found, choose the highest resolution\r\n      if(backCamera === null){\r\n        if(bestToWorstCameras.length > 0){\r\n          backCamera = bestToWorstCameras[0];\r\n          // (shouldn't be used for frontCamera)\r\n          bestToWorstCameras.splice(0, 1);\r\n        } else {\r\n          // user doesn't have any available cameras\r\n          backCamera = false;\r\n        }\r\n      }\r\n      if(bestToWorstCameras.length > 0){\r\n        // frontCamera should simply be the next-best resolution camera\r\n        frontCamera = bestToWorstCameras[0];\r\n      } else {\r\n        // user doesn't have any more cameras\r\n        frontCamera = false;\r\n      }\r\n      return {\r\n        backCamera: backCamera,\r\n        frontCamera: frontCamera\r\n      };\r\n    });\r\n  }\r\n\r\n  function mediaStreamIsActive(){\r\n    return activeMediaStream !== null;\r\n  }\r\n\r\n  function killActiveMediaStream(){\r\n    killStream(activeMediaStream);\r\n    activeMediaStream = null;\r\n  }\r\n\r\n  function getVideoPreview(){\r\n    return document.getElementById(ELEMENTS.preview);\r\n  }\r\n\r\n  function getImg(){\r\n    return document.getElementById(ELEMENTS.still);\r\n  }\r\n\r\n  function getCurrentCameraIndex(){\r\n    return currentCamera;\r\n  }\r\n\r\n  function getCurrentCamera(){\r\n    return currentCamera === 1 ? frontCamera : backCamera;\r\n  }\r\n\r\n  function bringStillToFront(){\r\n    var img = getImg();\r\n    if(img){\r\n      img.style.visibility = 'visible';\r\n      previewing = false;\r\n    }\r\n  }\r\n\r\n  function bringPreviewToFront(){\r\n    var img = getImg();\r\n    if(img){\r\n      img.style.visibility = 'hidden';\r\n      previewing = true;\r\n    }\r\n  }\r\n\r\n  function isInitialized(){\r\n    return backCamera !== null;\r\n  }\r\n\r\n  function canChangeCamera(){\r\n    return !!backCamera && !!frontCamera;\r\n  }\r\n\r\n  function calcStatus(){\r\n    return {\r\n      // !authorized means the user either has no camera or has denied access.\r\n      // This would leave a value of `null` before prepare(), and `false` after.\r\n      authorized: (backCamera !== null && backCamera !== false)? '1': '0',\r\n      // No applicable API\r\n      denied: '0',\r\n      // No applicable API\r\n      restricted: '0',\r\n      prepared: isInitialized() ? '1' : '0',\r\n      scanning: scanning? '1' : '0',\r\n      previewing: previewing? '1' : '0',\r\n      // We leave this true after prepare() to match the mobile experience as\r\n      // closely as possible. (Without additional covering, the preview will\r\n      // always be visible to the user).\r\n      showing: getVideoPreview()? '1' : '0',\r\n      // No applicable API\r\n      lightEnabled: '0',\r\n      // No applicable API\r\n      canOpenSettings: '0',\r\n      // No applicable API\r\n      canEnableLight: '0',\r\n      canChangeCamera: canChangeCamera() ? '1' : '0',\r\n      currentCamera: currentCamera.toString()\r\n    };\r\n  }\r\n\r\n  function startCamera(success, error){\r\n      var currentCameraIndex = getCurrentCameraIndex();\r\n      var currentCamera = getCurrentCamera();\r\n      window.navigator.mediaDevices.getUserMedia({\r\n        audio: false,\r\n        video: {\r\n          deviceId: {exact: currentCamera.deviceId},\r\n          width: {ideal: currentCamera.width},\r\n          height: {ideal: currentCamera.height}\r\n        }\r\n      }).then(function(mediaStream){\r\n        activeMediaStream = mediaStream;\r\n        var video = getVideoPreview();\r\n        video.src = URL.createObjectURL(mediaStream);\r\n        success(calcStatus());\r\n      }, function(err){\r\n        // something bad happened\r\n        err = null;\r\n        var code = currentCameraIndex? 4 : 3;\r\n        error(code); // FRONT_CAMERA_UNAVAILABLE : BACK_CAMERA_UNAVAILABLE\r\n      });\r\n  }\r\n\r\n  function getTempCanvasAndContext(videoElement){\r\n    var tempCanvas = document.createElement('canvas');\r\n    var camera = getCurrentCamera();\r\n    tempCanvas.height = camera.height;\r\n    tempCanvas.width = camera.width;\r\n    var tempCanvasContext = tempCanvas.getContext('2d');\r\n    tempCanvasContext.drawImage(videoElement, 0, 0, camera.width, camera.height);\r\n    return {\r\n      canvas: tempCanvas,\r\n      context: tempCanvasContext\r\n    };\r\n  }\r\n\r\n  function getCurrentImageData(videoElement){\r\n    var snapshot = getTempCanvasAndContext(videoElement);\r\n    return snapshot.context.getImageData(0, 0, snapshot.canvas.width, snapshot.canvas.height);\r\n  }\r\n\r\n  // take a screenshot of the video preview with a temp canvas\r\n  function captureCurrentFrame(videoElement){\r\n    return getTempCanvasAndContext(videoElement).canvas.toDataURL('image/png');\r\n  }\r\n\r\n  function initialize(success, error){\r\n    if(scanWorker === null){\r\n      var workerBlob = new Blob([workerScript],{type: \"text/javascript\"});\r\n      scanWorker = new Worker(URL.createObjectURL(workerBlob));\r\n    }\r\n    if(!getVideoPreview()){\r\n      // prepare DOM (sync)\r\n      var videoPreview = document.createElement('video');\r\n      videoPreview.setAttribute('autoplay', 'autoplay');\r\n      videoPreview.setAttribute('id', ELEMENTS.preview);\r\n      videoPreview.setAttribute('style', 'display:block;position:fixed;top:50%;left:50%;' +\r\n      'width:auto;height:auto;min-width:100%;min-height:100%;z-index:' + ZINDEXES.preview +\r\n      ';-moz-transform: translateX(-50%) translateY(-50%);-webkit-transform: ' +\r\n      'translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);' +\r\n      'background-size:cover;background-position:50% 50%;background-color:#FFF;');\r\n      videoPreview.addEventListener('loadeddata', function(){\r\n        bringPreviewToFront();\r\n      });\r\n\r\n      var stillImg = document.createElement('div');\r\n      stillImg.setAttribute('id', ELEMENTS.still);\r\n      stillImg.setAttribute('style', 'display:block;position:fixed;top:50%;left:50%;visibility: hidden;' +\r\n      'width:auto;height:auto;min-width:100%;min-height:100%;z-index:' + ZINDEXES.still +\r\n      ';-moz-transform: translateX(-50%) translateY(-50%);-webkit-transform: ' +\r\n      'translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);' +\r\n      'background-size:cover;background-position:50% 50%;background-color:#FFF;');\r\n\r\n      document.body.appendChild(videoPreview);\r\n      document.body.appendChild(stillImg);\r\n    }\r\n    if(backCamera === null){\r\n      // set instance cameras\r\n      chooseCameras().then(function(cameras){\r\n        backCamera = cameras.backCamera;\r\n        frontCamera = cameras.frontCamera;\r\n        if(backCamera !== false){\r\n          success();\r\n        } else {\r\n          error(5); // CAMERA_UNAVAILABLE\r\n        }\r\n      }, function(err){\r\n        // something bad happened\r\n        err = null;\r\n        error(0); // UNEXPECTED_ERROR\r\n      });\r\n    } else if (backCamera === false){\r\n      error(5); // CAMERA_UNAVAILABLE\r\n    } else {\r\n      success();\r\n    }\r\n  }\r\n\r\n  /*\r\n   *  --- Begin Public API ---\r\n   */\r\n\r\n  function prepare(success, error){\r\n    initialize(function(){\r\n      // return status on success\r\n      success(calcStatus());\r\n    },\r\n    // pass errors through\r\n    error);\r\n  }\r\n\r\n  function show(success, error){\r\n    function showCamera(){\r\n      if(!mediaStreamIsActive()){\r\n        startCamera(success, error);\r\n      } else {\r\n        success(calcStatus());\r\n      }\r\n    }\r\n    if(!isInitialized()){\r\n      initialize(function(){\r\n        // on successful initialization, attempt to showCamera\r\n        showCamera();\r\n      },\r\n      // pass errors through\r\n      error);\r\n    } else {\r\n      showCamera();\r\n    }\r\n  }\r\n\r\n  function hide(success, error){\r\n    error = null; // should never error\r\n    if(mediaStreamIsActive()){\r\n      killActiveMediaStream();\r\n    }\r\n    var video = getVideoPreview();\r\n    if(video){\r\n      video.src = '';\r\n    }\r\n    success(calcStatus());\r\n  }\r\n\r\n  function scan(success, error) {\r\n    // initialize and start video preview if not already active\r\n    show(function(ignore){\r\n      // ignore success output  `scan` method callback should be passed the decoded data\r\n      ignore = null;\r\n      var video = getVideoPreview();\r\n      var returned = false;\r\n      scanning = true;\r\n      scanWorker.onmessage = function(event){\r\n        var obj = event.data;\r\n        if(obj.result && !returned){\r\n          returned = true;\r\n          thisScanCycle = null;\r\n          success(obj.result);\r\n        }\r\n      };\r\n      thisScanCycle = function(){\r\n        scanWorker.postMessage(getCurrentImageData(video));\r\n        if(cancelNextScan !== null){\r\n          // avoid race conditions, always clear before starting a cycle\r\n          cancelNextScan();\r\n        }\r\n        // interval in milliseconds at which to try decoding the QR code\r\n        var SCAN_INTERVAL = window.QRScanner_SCAN_INTERVAL || 130;\r\n        // this value can be adjusted on-the-fly (while a scan is active) to\r\n        // balance scan speed vs. CPU/power usage\r\n        nextScan = window.setTimeout(thisScanCycle, SCAN_INTERVAL);\r\n        cancelNextScan = function(sendError){\r\n          window.clearTimeout(nextScan);\r\n          nextScan = null;\r\n          cancelNextScan = null;\r\n          if(sendError){\r\n            error(6); // SCAN_CANCELED\r\n          }\r\n        };\r\n      };\r\n      thisScanCycle();\r\n    }, error);\r\n  }\r\n\r\n  function cancelScan(success, error){\r\n    error = null; // should never error\r\n    if(cancelNextScan !== null){\r\n      cancelNextScan(true);\r\n    }\r\n    scanning = false;\r\n    if(typeof success === \"function\"){\r\n      success(calcStatus());\r\n    }\r\n  }\r\n\r\n  function pausePreview(success, error){\r\n    error = null; // should never error\r\n    if(mediaStreamIsActive()){\r\n      // pause scanning too\r\n      if(cancelNextScan !== null){\r\n        cancelNextScan();\r\n      }\r\n      var video = getVideoPreview();\r\n      video.pause();\r\n      var img = new Image();\r\n      img.src = captureCurrentFrame(video);\r\n      getImg().style.backgroundImage = 'url(' + img.src + ')';\r\n      bringStillToFront();\r\n      // kill the active stream to turn off the privacy light (the screenshot\r\n      // in the stillImg will remain visible)\r\n      killActiveMediaStream();\r\n      success(calcStatus());\r\n    } else {\r\n      success(calcStatus());\r\n    }\r\n  }\r\n\r\n  function resumePreview(success, error){\r\n    // if a scan was happening, resume it\r\n    if(thisScanCycle !== null){\r\n      thisScanCycle();\r\n    }\r\n    show(success, error);\r\n  }\r\n\r\n  function enableLight(success, error){\r\n    error(7); //LIGHT_UNAVAILABLE\r\n  }\r\n\r\n  function disableLight(success, error){\r\n    error(7); //LIGHT_UNAVAILABLE\r\n  }\r\n\r\n  function useCamera(success, error, array){\r\n    var requestedCamera = array[0];\r\n    var initialized = isInitialized();\r\n    if(requestedCamera !== currentCamera){\r\n      if(initialized && requestedCamera === 1 && !canChangeCamera()){\r\n          error(4); //FRONT_CAMERA_UNAVAILABLE\r\n      } else {\r\n        currentCamera = requestedCamera;\r\n        if(initialized){\r\n          hide(function(status){\r\n            // Don't need this one\r\n            status = null;\r\n          });\r\n          show(success, error);\r\n        } else {\r\n          success(calcStatus());\r\n        }\r\n      }\r\n    } else {\r\n      success(calcStatus());\r\n    }\r\n  }\r\n\r\n  function openSettings(success, error){\r\n    error(8); //OPEN_SETTINGS_UNAVAILABLE\r\n  }\r\n\r\n  function getStatus(success, error){\r\n    error = null; // should never error\r\n    success(calcStatus());\r\n  }\r\n\r\n  // Reset all instance variables to their original state.\r\n  // This method might be useful in cases where a new camera is available, and\r\n  // the application needs to force the plugin to chooseCameras() again.\r\n  function destroy(success, error){\r\n    error = null; // should never error\r\n    cancelScan();\r\n    if(mediaStreamIsActive()){\r\n      killActiveMediaStream();\r\n    }\r\n    backCamera = null;\r\n    frontCamera = null;\r\n    var preview = getVideoPreview();\r\n    var still = getImg();\r\n    if(preview){\r\n      preview.remove();\r\n    }\r\n    if(still){\r\n      still.remove();\r\n    }\r\n    success(calcStatus());\r\n  }\r\n\r\n  return {\r\n      prepare: prepare,\r\n      show: show,\r\n      hide: hide,\r\n      scan: scan,\r\n      cancelScan: cancelScan,\r\n      pausePreview: pausePreview,\r\n      resumePreview: resumePreview,\r\n      enableLight: enableLight,\r\n      disableLight: disableLight,\r\n      useCamera: useCamera,\r\n      openSettings: openSettings,\r\n      getStatus: getStatus,\r\n      destroy: destroy\r\n  };\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/browser/src/createQRScannerInternal.js\n// module id = 1\n// module chunks = 0","module.exports = function createQRScanner(cordova){\r\n// The native implementations should return their status as ['string':'string']\r\n// dictionaries. Boolean values are encoded to '0' and '1', respectively.\r\nfunction stringToBool(string) {\r\n  switch (string) {\r\n    case '1':\r\n      return true;\r\n    case '0':\r\n      return false;\r\n    default:\r\n    throw new Error('QRScanner plugin returned an invalid boolean number-string: ' + string);\r\n  }\r\n}\r\n\r\n// Converts the returned ['string':'string'] dictionary to a status object.\r\nfunction convertStatus(statusDictionary) {\r\n  return {\r\n    authorized: stringToBool(statusDictionary.authorized),\r\n    denied: stringToBool(statusDictionary.denied),\r\n    restricted: stringToBool(statusDictionary.restricted),\r\n    prepared: stringToBool(statusDictionary.prepared),\r\n    scanning: stringToBool(statusDictionary.scanning),\r\n    previewing: stringToBool(statusDictionary.previewing),\r\n    showing: stringToBool(statusDictionary.showing),\r\n    lightEnabled: stringToBool(statusDictionary.lightEnabled),\r\n    canOpenSettings: stringToBool(statusDictionary.canOpenSettings),\r\n    canEnableLight: stringToBool(statusDictionary.canEnableLight),\r\n    canChangeCamera: stringToBool(statusDictionary.canChangeCamera),\r\n    currentCamera: parseInt(statusDictionary.currentCamera)\r\n  };\r\n}\r\n\r\n// Simple utility method to ensure the background is transparent. Used by the\r\n// plugin to force re-rendering immediately after the native webview background\r\n// is made transparent.\r\nfunction clearBackground() {\r\n  var body = document.body;\r\n  if (body.style) {\r\n    body.style.backgroundColor = 'rgba(0,0,0,0.01)';\r\n    body.style.backgroundImage = '';\r\n    setTimeout(function() {\r\n      body.style.backgroundColor = 'transparent';\r\n    }, 1);\r\n    if (body.parentNode && body.parentNode.style) {\r\n      body.parentNode.style.backgroundColor = 'transparent';\r\n      body.parentNode.style.backgroundImage = '';\r\n    }\r\n  }\r\n}\r\n\r\nfunction errorCallback(callback) {\r\n  if (!callback) {\r\n    return null;\r\n  }\r\n  return function(error) {\r\n    var errorCode = parseInt(error);\r\n    var QRScannerError = {};\r\n    switch (errorCode) {\r\n      case 0:\r\n        QRScannerError = {\r\n          name: 'UNEXPECTED_ERROR',\r\n          code: 0,\r\n          _message: 'QRScanner experienced an unexpected error.'\r\n        };\r\n        break;\r\n      case 1:\r\n        QRScannerError = {\r\n          name: 'CAMERA_ACCESS_DENIED',\r\n          code: 1,\r\n          _message: 'The user denied camera access.'\r\n        };\r\n        break;\r\n      case 2:\r\n        QRScannerError = {\r\n          name: 'CAMERA_ACCESS_RESTRICTED',\r\n          code: 2,\r\n          _message: 'Camera access is restricted.'\r\n        };\r\n        break;\r\n      case 3:\r\n        QRScannerError = {\r\n          name: 'BACK_CAMERA_UNAVAILABLE',\r\n          code: 3,\r\n          _message: 'The back camera is unavailable.'\r\n        };\r\n        break;\r\n      case 4:\r\n        QRScannerError = {\r\n          name: 'FRONT_CAMERA_UNAVAILABLE',\r\n          code: 4,\r\n          _message: 'The front camera is unavailable.'\r\n        };\r\n        break;\r\n      case 5:\r\n        QRScannerError = {\r\n          name: 'CAMERA_UNAVAILABLE',\r\n          code: 5,\r\n          _message: 'The camera is unavailable.'\r\n        };\r\n        break;\r\n      case 6:\r\n        QRScannerError = {\r\n          name: 'SCAN_CANCELED',\r\n          code: 6,\r\n          _message: 'Scan was canceled.'\r\n        };\r\n        break;\r\n      case 7:\r\n        QRScannerError = {\r\n          name: 'LIGHT_UNAVAILABLE',\r\n          code: 7,\r\n          _message: 'The device light is unavailable.'\r\n        };\r\n        break;\r\n      case 8:\r\n        // Open settings is only available on iOS 8.0+.\r\n        QRScannerError = {\r\n          name: 'OPEN_SETTINGS_UNAVAILABLE',\r\n          code: 8,\r\n          _message: 'The device is unable to open settings.'\r\n        };\r\n        break;\r\n      default:\r\n        QRScannerError = {\r\n          name: 'UNEXPECTED_ERROR',\r\n          code: 0,\r\n          _message: 'QRScanner returned an invalid error code.'\r\n        };\r\n        break;\r\n    }\r\n    callback(QRScannerError);\r\n  };\r\n}\r\n\r\nfunction successCallback(callback) {\r\n  if (!callback) {\r\n    return null;\r\n  }\r\n  return function(statusDict) {\r\n    callback(null, convertStatus(statusDict));\r\n  };\r\n}\r\n\r\nfunction doneCallback(callback, clear) {\r\n  if (!callback) {\r\n    return null;\r\n  }\r\n  return function(statusDict) {\r\n    if (clear) {\r\n      clearBackground();\r\n    }\r\n    callback(convertStatus(statusDict));\r\n  };\r\n}\r\n\r\nreturn {\r\n  prepare: function(callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'prepare', []);\r\n  },\r\n  destroy: function(callback) {\r\n    cordova.exec(doneCallback(callback, true), null, 'QRScanner', 'destroy', []);\r\n  },\r\n  scan: function(callback) {\r\n    if (!callback) {\r\n      throw new Error('No callback provided to scan method.');\r\n    }\r\n    var success = function(result) {\r\n      callback(null, result);\r\n    };\r\n    cordova.exec(success, errorCallback(callback), 'QRScanner', 'scan', []);\r\n  },\r\n  cancelScan: function(callback) {\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'cancelScan', []);\r\n  },\r\n  show: function(callback) {\r\n    cordova.exec(doneCallback(callback, true), null, 'QRScanner', 'show', []);\r\n  },\r\n  hide: function(callback) {\r\n    cordova.exec(doneCallback(callback, true), null, 'QRScanner', 'hide', []);\r\n  },\r\n  pausePreview: function(callback) {\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'pausePreview', []);\r\n  },\r\n  resumePreview: function(callback) {\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'resumePreview', []);\r\n  },\r\n  enableLight: function(callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'enableLight', []);\r\n  },\r\n  disableLight: function(callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'disableLight', []);\r\n  },\r\n  useCamera: function(index, callback) {\r\n    cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'useCamera', [index]);\r\n  },\r\n  useFrontCamera: function(callback) {\r\n    var frontCamera = 1;\r\n    if (callback) {\r\n      this.useCamera(frontCamera, callback);\r\n    } else {\r\n      cordova.exec(null, null, 'QRScanner', 'useCamera', [frontCamera]);\r\n    }\r\n  },\r\n  useBackCamera: function(callback) {\r\n    var backCamera = 0;\r\n    if (callback) {\r\n      this.useCamera(backCamera, callback);\r\n    } else {\r\n      cordova.exec(null, null, 'QRScanner', 'useCamera', [backCamera]);\r\n    }\r\n  },\r\n  openSettings: function(callback) {\r\n    if (callback) {\r\n      cordova.exec(successCallback(callback), errorCallback(callback), 'QRScanner', 'openSettings', []);\r\n    } else {\r\n      cordova.exec(null, null, 'QRScanner', 'openSettings', []);\r\n    }\r\n  },\r\n  getStatus: function(callback) {\r\n    if (!callback) {\r\n      throw new Error('No callback provided to getStatus method.');\r\n    }\r\n    cordova.exec(doneCallback(callback), null, 'QRScanner', 'getStatus', []);\r\n  }\r\n};\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/src/createQRScannerAdapter.js\n// module id = 2\n// module chunks = 0","module.exports = \"!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\\\"a\\\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\\\"\\\",e(e.s=19)}([function(t,e,n){\\\"use strict\\\";function r(){this.imagedata=null,this.width=0,this.height=0,this.qrCodeSymbol=null,this.debug=!1,this.callback=null}function i(t,e){return t>=0?t>>e:(t>>e)+(2<<~e)}var o=n(14),a=n(13);n.d(e,\\\"b\\\",function(){return s}),e.a=r,e.c=i;var s={};s.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],r.prototype.decode=function(t,e){var n=function(){try{this.error=void 0,this.result=this.process(this.imagedata)}catch(t){this.error=t,this.result=void 0}return null!=this.callback&&this.callback(this.result,this.error),this.result}.bind(this);if(void 0==t){var r=document.getElementById(\\\"qr-canvas\\\"),i=r.getContext(\\\"2d\\\");this.width=r.width,this.height=r.height,this.imagedata=i.getImageData(0,0,this.width,this.height),n()}else if(void 0!=t.width)this.width=t.width,this.height=t.height,this.imagedata={data:e||t.data},this.imagedata.width=t.width,this.imagedata.height=t.height,n();else{var o=new Image;o.crossOrigin=\\\"Anonymous\\\",o.onload=function(){var t=document.createElement(\\\"canvas\\\"),e=t.getContext(\\\"2d\\\"),r=document.getElementById(\\\"out-canvas\\\");if(null!=r){var i=r.getContext(\\\"2d\\\");i.clearRect(0,0,320,240),i.drawImage(o,0,0,320,240)}t.width=o.width,t.height=o.height,e.drawImage(o,0,0),this.width=o.width,this.height=o.height;try{this.imagedata=e.getImageData(0,0,o.width,o.height)}catch(t){if(this.result=\\\"Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!\\\",null!=this.callback)return this.callback(this.result)}n()}.bind(this),o.src=t}},r.prototype.decode_utf8=function(t){return decodeURIComponent(escape(t))},r.prototype.process=function(t){for(var e=(new Date).getTime(),n=this.grayScaleToBitmap(this.grayscale(t)),r=new o.a(n),i=r.detect(),s=a.a.decode(i.bits),h=s.DataByte,f=\\\"\\\",w=0;w<h.length;w++)for(var u=0;u<h[w].length;u++)f+=String.fromCharCode(h[w][u]);var l=(new Date).getTime(),c=l-e;return this.debug&&console.log(\\\"QR Code processing time (ms): \\\"+c),this.decode_utf8(f)},r.prototype.getPixel=function(t,e,n){if(t.width<e)throw\\\"point error\\\";if(t.height<n)throw\\\"point error\\\";var r=4*e+n*t.width*4;return(33*t.data[r]+34*t.data[r+1]+33*t.data[r+2])/100},r.prototype.binarize=function(t){for(var e=new Array(this.width*this.height),n=0;n<this.height;n++)for(var r=0;r<this.width;r++){var i=this.getPixel(r,n);e[r+n*this.width]=i<=t}return e},r.prototype.getMiddleBrightnessPerArea=function(t){for(var e=4,n=Math.floor(t.width/e),r=Math.floor(t.height/e),i=new Array(e),o=0;o<e;o++){i[o]=new Array(e);for(var a=0;a<e;a++)i[o][a]=[0,0]}for(var s=0;s<e;s++)for(var h=0;h<e;h++){i[h][s][0]=255;for(var f=0;f<r;f++)for(var w=0;w<n;w++){var u=t.data[n*h+w+(r*s+f)*t.width];u<i[h][s][0]&&(i[h][s][0]=u),u>i[h][s][1]&&(i[h][s][1]=u)}}for(var l=new Array(e),c=0;c<e;c++)l[c]=new Array(e);for(var s=0;s<e;s++)for(var h=0;h<e;h++)l[h][s]=Math.floor((i[h][s][0]+i[h][s][1])/2);return l},r.prototype.grayScaleToBitmap=function(t){for(var e=this.getMiddleBrightnessPerArea(t),n=e.length,r=Math.floor(t.width/n),i=Math.floor(t.height/n),o=0;o<n;o++)for(var a=0;a<n;a++)for(var s=0;s<i;s++)for(var h=0;h<r;h++)t.data[r*a+h+(i*o+s)*t.width]=t.data[r*a+h+(i*o+s)*t.width]<e[a][o];return t},r.prototype.grayscale=function(t){for(var e=new Array(t.width*t.height),n=0;n<t.height;n++)for(var r=0;r<t.width;r++){var i=this.getPixel(t,r,n);e[r+n*t.width]=i}return{height:t.height,width:t.width,data:e}}},function(t,e,n){\\\"use strict\\\";function r(t){this.expTable=new Array(256),this.logTable=new Array(256);for(var e=1,n=0;n<256;n++)this.expTable[n]=e,e<<=1,e>=256&&(e^=t);for(var n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var r=new Array(1);r[0]=0,this.zero=new i.a(this,new Array(r));var o=new Array(1);o[0]=1,this.one=new i.a(this,new Array(o))}var i=n(4);e.a=r,Object.defineProperty(r.prototype,\\\"Zero\\\",{get:function(){return this.zero}}),Object.defineProperty(r.prototype,\\\"One\\\",{get:function(){return this.one}}),r.prototype.buildMonomial=function(t,e){if(t<0)throw\\\"System.ArgumentException\\\";if(0==e)return this.zero;for(var n=new Array(t+1),r=0;r<n.length;r++)n[r]=0;return n[0]=e,new i.a(this,n)},r.prototype.exp=function(t){return this.expTable[t]},r.prototype.log=function(t){if(0==t)throw\\\"System.ArgumentException\\\";return this.logTable[t]},r.prototype.inverse=function(t){if(0==t)throw\\\"System.ArithmeticException\\\";return this.expTable[255-this.logTable[t]]},r.prototype.multiply=function(t,e){return 0==t||0==e?0:1==t?e:1==e?t:this.expTable[(this.logTable[t]+this.logTable[e])%255]},r.QR_CODE_FIELD=new r(285),r.DATA_MATRIX_FIELD=new r(301),r.addOrSubtract=function(t,e){return t^e}},function(t,e,n){\\\"use strict\\\";function r(t,e){if(e||(e=t),t<1||e<1)throw\\\"Both dimensions must be greater than 0\\\";this.width=t,this.height=e;var n=t>>5;0!=(31&t)&&n++,this.rowSize=n,this.bits=new Array(n*e);for(var r=0;r<this.bits.length;r++)this.bits[r]=0}var i=n(0);e.a=r,Object.defineProperty(r.prototype,\\\"Dimension\\\",{get:function(){if(this.width!=this.height)throw\\\"Can't call getDimension() on a non-square matrix\\\";return this.width}}),r.prototype.get_Renamed=function(t,e){var r=e*this.rowSize+(t>>5);return 0!=(1&n.i(i.c)(this.bits[r],31&t))},r.prototype.set_Renamed=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]|=1<<(31&t)},r.prototype.flip=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]^=1<<(31&t)},r.prototype.clear=function(){for(var t=this.bits.length,e=0;e<t;e++)this.bits[e]=0},r.prototype.setRegion=function(t,e,n,r){if(e<0||t<0)throw\\\"Left and top must be nonnegative\\\";if(r<1||n<1)throw\\\"Height and width must be at least 1\\\";var i=t+n,o=e+r;if(o>this.height||i>this.width)throw\\\"The region must fit inside the matrix\\\";for(var a=e;a<o;a++)for(var s=a*this.rowSize,h=t;h<i;h++)this.bits[s+(h>>5)]|=1<<(31&h)}},function(t,e,n){\\\"use strict\\\";function r(t){this.errorCorrectionLevel=o.a.forBits(t>>3&3),this.dataMask=7&t}var i=n(0),o=n(15);e.a=r;var a=21522,s=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],h=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];r.prototype.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},r.prototype.Equals=function(t){var e=t;return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask},r.numBitsDiffering=function(t,e){return t^=e,h[15&t]+h[15&n.i(i.c)(t,4)]+h[15&n.i(i.c)(t,8)]+h[15&n.i(i.c)(t,12)]+h[15&n.i(i.c)(t,16)]+h[15&n.i(i.c)(t,20)]+h[15&n.i(i.c)(t,24)]+h[15&n.i(i.c)(t,28)]},r.decodeFormatInformation=function(t){var e=r.doDecodeFormatInformation(t);return null!=e?e:r.doDecodeFormatInformation(t^a)},r.doDecodeFormatInformation=function(t){for(var e=4294967295,n=0,i=0;i<s.length;i++){var o=s[i],a=o[0];if(a==t)return new r(o[1]);var h=this.numBitsDiffering(t,a);h<e&&(n=o[1],e=h)}return e<=3?new r(n):null}},function(t,e,n){\\\"use strict\\\";function r(t,e){if(null==e||0==e.length)throw\\\"System.ArgumentException\\\";this.field=t;var n=e.length;if(n>1&&0==e[0]){for(var r=1;r<n&&0==e[r];)r++;if(r==n)this.coefficients=t.Zero.coefficients;else{this.coefficients=new Array(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=e[r+o]}}else this.coefficients=e}var i=n(1);e.a=r,Object.defineProperty(r.prototype,\\\"Zero\\\",{get:function(){return 0==this.coefficients[0]}}),Object.defineProperty(r.prototype,\\\"Degree\\\",{get:function(){return this.coefficients.length-1}}),r.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},r.prototype.evaluateAt=function(t){if(0==t)return this.getCoefficient(0);var e=this.coefficients.length;if(1==t){for(var n=0,r=0;r<e;r++)n=i.a.addOrSubtract(n,this.coefficients[r]);return n}for(var o=this.coefficients[0],r=1;r<e;r++)o=i.a.addOrSubtract(this.field.multiply(t,o),this.coefficients[r]);return o},r.prototype.addOrSubtract=function(t){if(this.field!=t.field)throw\\\"GF256Polys do not have same GF256 field\\\";if(this.Zero)return t;if(t.Zero)return this;var e=this.coefficients,n=t.coefficients;if(e.length>n.length){var o=e;e=n,n=o}for(var a=new Array(n.length),s=n.length-e.length,h=0;h<s;h++)a[h]=n[h];for(var f=s;f<n.length;f++)a[f]=i.a.addOrSubtract(e[f-s],n[f]);return new r(this.field,a)},r.prototype.multiply1=function(t){if(this.field!=t.field)throw\\\"GF256Polys do not have same GF256 field\\\";if(this.Zero||t.Zero)return this.field.Zero;for(var e=this.coefficients,n=e.length,o=t.coefficients,a=o.length,s=new Array(n+a-1),h=0;h<n;h++)for(var f=e[h],w=0;w<a;w++)s[h+w]=i.a.addOrSubtract(s[h+w],this.field.multiply(f,o[w]));return new r(this.field,s)},r.prototype.multiply2=function(t){if(0==t)return this.field.Zero;if(1==t)return this;for(var e=this.coefficients.length,n=new Array(e),i=0;i<e;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(t,e){if(t<0)throw\\\"System.ArgumentException\\\";if(0==e)return this.field.Zero;for(var n=this.coefficients.length,i=new Array(n+t),o=0;o<i.length;o++)i[o]=0;for(var o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],e);return new r(this.field,i)},r.prototype.divide=function(t){if(this.field!=t.field)throw\\\"GF256Polys do not have same GF256 field\\\";if(t.Zero)throw\\\"Divide by 0\\\";for(var e=this.field.Zero,n=this,r=t.getCoefficient(t.Degree),i=this.field.inverse(r);n.Degree>=t.Degree&&!n.Zero;){var o=n.Degree-t.Degree,a=this.field.multiply(n.getCoefficient(n.Degree),i),s=t.multiplyByMonomial(o,a),h=this.field.buildMonomial(o,a);e=e.addOrSubtract(h),n=n.addOrSubtract(s)}return[e,n]}},function(t,e,n){\\\"use strict\\\";function r(t,e){this.count=t,this.dataCodewords=e}function i(t,e,n){this.ecCodewordsPerBlock=t,n?this.ecBlocks=[e,n]:this.ecBlocks=[e]}function o(t,e,n,r,i,o){this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=[n,r,i,o];for(var a=0,s=n.ecCodewordsPerBlock,h=n.getECBlocks(),f=0;f<h.length;f++){var w=h[f];a+=w.count*(w.dataCodewords+s)}this.totalCodewords=a}function a(){return[new o(1,[],new i(7,new r(1,19)),new i(10,new r(1,16)),new i(13,new r(1,13)),new i(17,new r(1,9))),new o(2,[6,18],new i(10,new r(1,34)),new i(16,new r(1,28)),new i(22,new r(1,22)),new i(28,new r(1,16))),new o(3,[6,22],new i(15,new r(1,55)),new i(26,new r(1,44)),new i(18,new r(2,17)),new i(22,new r(2,13))),new o(4,[6,26],new i(20,new r(1,80)),new i(18,new r(2,32)),new i(26,new r(2,24)),new i(16,new r(4,9))),new o(5,[6,30],new i(26,new r(1,108)),new i(24,new r(2,43)),new i(18,new r(2,15),new r(2,16)),new i(22,new r(2,11),new r(2,12))),new o(6,[6,34],new i(18,new r(2,68)),new i(16,new r(4,27)),new i(24,new r(4,19)),new i(28,new r(4,15))),new o(7,[6,22,38],new i(20,new r(2,78)),new i(18,new r(4,31)),new i(18,new r(2,14),new r(4,15)),new i(26,new r(4,13),new r(1,14))),new o(8,[6,24,42],new i(24,new r(2,97)),new i(22,new r(2,38),new r(2,39)),new i(22,new r(4,18),new r(2,19)),new i(26,new r(4,14),new r(2,15))),new o(9,[6,26,46],new i(30,new r(2,116)),new i(22,new r(3,36),new r(2,37)),new i(20,new r(4,16),new r(4,17)),new i(24,new r(4,12),new r(4,13))),new o(10,[6,28,50],new i(18,new r(2,68),new r(2,69)),new i(26,new r(4,43),new r(1,44)),new i(24,new r(6,19),new r(2,20)),new i(28,new r(6,15),new r(2,16))),new o(11,[6,30,54],new i(20,new r(4,81)),new i(30,new r(1,50),new r(4,51)),new i(28,new r(4,22),new r(4,23)),new i(24,new r(3,12),new r(8,13))),new o(12,[6,32,58],new i(24,new r(2,92),new r(2,93)),new i(22,new r(6,36),new r(2,37)),new i(26,new r(4,20),new r(6,21)),new i(28,new r(7,14),new r(4,15))),new o(13,[6,34,62],new i(26,new r(4,107)),new i(22,new r(8,37),new r(1,38)),new i(24,new r(8,20),new r(4,21)),new i(22,new r(12,11),new r(4,12))),new o(14,[6,26,46,66],new i(30,new r(3,115),new r(1,116)),new i(24,new r(4,40),new r(5,41)),new i(20,new r(11,16),new r(5,17)),new i(24,new r(11,12),new r(5,13))),new o(15,[6,26,48,70],new i(22,new r(5,87),new r(1,88)),new i(24,new r(5,41),new r(5,42)),new i(30,new r(5,24),new r(7,25)),new i(24,new r(11,12),new r(7,13))),new o(16,[6,26,50,74],new i(24,new r(5,98),new r(1,99)),new i(28,new r(7,45),new r(3,46)),new i(24,new r(15,19),new r(2,20)),new i(30,new r(3,15),new r(13,16))),new o(17,[6,30,54,78],new i(28,new r(1,107),new r(5,108)),new i(28,new r(10,46),new r(1,47)),new i(28,new r(1,22),new r(15,23)),new i(28,new r(2,14),new r(17,15))),new o(18,[6,30,56,82],new i(30,new r(5,120),new r(1,121)),new i(26,new r(9,43),new r(4,44)),new i(28,new r(17,22),new r(1,23)),new i(28,new r(2,14),new r(19,15))),new o(19,[6,30,58,86],new i(28,new r(3,113),new r(4,114)),new i(26,new r(3,44),new r(11,45)),new i(26,new r(17,21),new r(4,22)),new i(26,new r(9,13),new r(16,14))),new o(20,[6,34,62,90],new i(28,new r(3,107),new r(5,108)),new i(26,new r(3,41),new r(13,42)),new i(30,new r(15,24),new r(5,25)),new i(28,new r(15,15),new r(10,16))),new o(21,[6,28,50,72,94],new i(28,new r(4,116),new r(4,117)),new i(26,new r(17,42)),new i(28,new r(17,22),new r(6,23)),new i(30,new r(19,16),new r(6,17))),new o(22,[6,26,50,74,98],new i(28,new r(2,111),new r(7,112)),new i(28,new r(17,46)),new i(30,new r(7,24),new r(16,25)),new i(24,new r(34,13))),new o(23,[6,30,54,74,102],new i(30,new r(4,121),new r(5,122)),new i(28,new r(4,47),new r(14,48)),new i(30,new r(11,24),new r(14,25)),new i(30,new r(16,15),new r(14,16))),new o(24,[6,28,54,80,106],new i(30,new r(6,117),new r(4,118)),new i(28,new r(6,45),new r(14,46)),new i(30,new r(11,24),new r(16,25)),new i(30,new r(30,16),new r(2,17))),new o(25,[6,32,58,84,110],new i(26,new r(8,106),new r(4,107)),new i(28,new r(8,47),new r(13,48)),new i(30,new r(7,24),new r(22,25)),new i(30,new r(22,15),new r(13,16))),new o(26,[6,30,58,86,114],new i(28,new r(10,114),new r(2,115)),new i(28,new r(19,46),new r(4,47)),new i(28,new r(28,22),new r(6,23)),new i(30,new r(33,16),new r(4,17))),new o(27,[6,34,62,90,118],new i(30,new r(8,122),new r(4,123)),new i(28,new r(22,45),new r(3,46)),new i(30,new r(8,23),new r(26,24)),new i(30,new r(12,15),new r(28,16))),new o(28,[6,26,50,74,98,122],new i(30,new r(3,117),new r(10,118)),new i(28,new r(3,45),new r(23,46)),new i(30,new r(4,24),new r(31,25)),new i(30,new r(11,15),new r(31,16))),new o(29,[6,30,54,78,102,126],new i(30,new r(7,116),new r(7,117)),new i(28,new r(21,45),new r(7,46)),new i(30,new r(1,23),new r(37,24)),new i(30,new r(19,15),new r(26,16))),new o(30,[6,26,52,78,104,130],new i(30,new r(5,115),new r(10,116)),new i(28,new r(19,47),new r(10,48)),new i(30,new r(15,24),new r(25,25)),new i(30,new r(23,15),new r(25,16))),new o(31,[6,30,56,82,108,134],new i(30,new r(13,115),new r(3,116)),new i(28,new r(2,46),new r(29,47)),new i(30,new r(42,24),new r(1,25)),new i(30,new r(23,15),new r(28,16))),new o(32,[6,34,60,86,112,138],new i(30,new r(17,115)),new i(28,new r(10,46),new r(23,47)),new i(30,new r(10,24),new r(35,25)),new i(30,new r(19,15),new r(35,16))),new o(33,[6,30,58,86,114,142],new i(30,new r(17,115),new r(1,116)),new i(28,new r(14,46),new r(21,47)),new i(30,new r(29,24),new r(19,25)),new i(30,new r(11,15),new r(46,16))),new o(34,[6,34,62,90,118,146],new i(30,new r(13,115),new r(6,116)),new i(28,new r(14,46),new r(23,47)),new i(30,new r(44,24),new r(7,25)),new i(30,new r(59,16),new r(1,17))),new o(35,[6,30,54,78,102,126,150],new i(30,new r(12,121),new r(7,122)),new i(28,new r(12,47),new r(26,48)),new i(30,new r(39,24),new r(14,25)),new i(30,new r(22,15),new r(41,16))),new o(36,[6,24,50,76,102,128,154],new i(30,new r(6,121),new r(14,122)),new i(28,new r(6,47),new r(34,48)),new i(30,new r(46,24),new r(10,25)),new i(30,new r(2,15),new r(64,16))),new o(37,[6,28,54,80,106,132,158],new i(30,new r(17,122),new r(4,123)),new i(28,new r(29,46),new r(14,47)),new i(30,new r(49,24),new r(10,25)),new i(30,new r(24,15),new r(46,16))),new o(38,[6,32,58,84,110,136,162],new i(30,new r(4,122),new r(18,123)),new i(28,new r(13,46),new r(32,47)),new i(30,new r(48,24),new r(14,25)),new i(30,new r(42,15),new r(32,16))),new o(39,[6,26,54,82,110,138,166],new i(30,new r(20,117),new r(4,118)),new i(28,new r(40,47),new r(7,48)),new i(30,new r(43,24),new r(22,25)),new i(30,new r(10,15),new r(67,16))),new o(40,[6,30,58,86,114,142,170],new i(30,new r(19,118),new r(6,119)),new i(28,new r(18,47),new r(31,48)),new i(30,new r(34,24),new r(34,25)),new i(30,new r(20,15),new r(61,16)))]}var s=n(3),h=n(2);e.a=o,Object.defineProperty(i.prototype,\\\"TotalECCodewords\\\",{get:function(){return this.ecCodewordsPerBlock*this.NumBlocks}}),Object.defineProperty(i.prototype,\\\"NumBlocks\\\",{get:function(){for(var t=0,e=0;e<this.ecBlocks.length;e++)t+=this.ecBlocks[e].length;return t}}),i.prototype.getECBlocks=function(){return this.ecBlocks},Object.defineProperty(o.prototype,\\\"DimensionForVersion\\\",{get:function(){return 17+4*this.versionNumber}}),o.prototype.buildFunctionPattern=function(){var t=this.DimensionForVersion,e=new h.a(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0==r&&(0==o||o==n-1)||r==n-1&&0==o||e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},o.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.ordinal()]},o.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017],o.VERSIONS=a(),o.getVersionForNumber=function(t){if(t<1||t>40)throw\\\"ArgumentException\\\";return o.VERSIONS[t-1]},o.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw\\\"Error getProvisionalVersionForDimension\\\";try{return o.getVersionForNumber(t-17>>2)}catch(t){throw\\\"Error getVersionForNumber\\\"}},o.decodeVersionInformation=function(t){for(var e=4294967295,n=0,r=0;r<o.VERSION_DECODE_INFO.length;r++){var i=o.VERSION_DECODE_INFO[r];if(i==t)return this.getVersionForNumber(r+7);var a=s.a.numBitsDiffering(t,i);a<e&&(n=r+7,e=a)}return e<=3?this.getVersionForNumber(n):null}},function(t,e,n){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var r=n(0);e.default=r.a},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\\\"loaded\\\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\\\"id\\\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){\\\"use strict\\\";function r(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n}function i(t,e,n,r,i,o,a){this.image=t,this.possibleCenters=[],this.startX=e,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.crossCheckStateCount=[0,0,0],this.resultPointCallback=a}e.a=i,Object.defineProperty(r.prototype,\\\"X\\\",{get:function(){return Math.floor(this.x)}}),Object.defineProperty(r.prototype,\\\"Y\\\",{get:function(){return Math.floor(this.y)}}),r.prototype.incrementCount=function(){this.count++},r.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1},i.prototype.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},i.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},i.prototype.crossCheckVertical=function(t,e,n,r){var i=this.image,o=i.height,a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var s=t;s>=0&&i.data[e+s*i.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&!i.data[e+s*i.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=t+1;s<o&&i.data[e+s*i.width]&&a[1]<=n;)a[1]++,s++;if(s==o||a[1]>n)return NaN;for(;s<o&&!i.data[e+s*i.width]&&a[2]<=n;)a[2]++,s++;if(a[2]>n)return NaN;var h=a[0]+a[1]+a[2];return 5*Math.abs(h-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},i.prototype.handlePossibleCenter=function(t,e,n){var i=t[0]+t[1]+t[2],o=this.centerFromEnd(t,n),a=this.crossCheckVertical(e,Math.floor(o),2*t[1],i);if(!isNaN(a)){for(var s=(t[0]+t[1]+t[2])/3,h=this.possibleCenters.length,f=0;f<h;f++){var w=this.possibleCenters[f];if(w.aboutEquals(s,a,o))return new r(o,a,s)}var u=new r(o,a,s);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return null},i.prototype.find=function(){for(var t=this.image,e=this.startX,n=this.height,r=e+this.width,i=this.startY+(n>>1),o=[0,0,0],a=0;a<n;a++){var s=i+(0==(1&a)?a+1>>1:-(a+1>>1));o[0]=0,o[1]=0,o[2]=0;for(var h=e;h<r&&!t.data[h+t.width*s];)h++;for(var f=0;h<r;){if(t.data[h+s*t.width])if(1==f)o[f]++;else if(2==f){if(this.foundPatternCross(o)){var w=this.handlePossibleCenter(o,s,h);if(null!=w)return w}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else 1==f&&f++,o[f]++;h++}if(this.foundPatternCross(o)){var w=this.handlePossibleCenter(o,s,r);if(null!=w)return w}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw\\\"Couldn't find enough alignment patterns\\\"}},function(t,e,n){\\\"use strict\\\";function r(t){var e=t.Dimension;if(e<21||1!=(3&e))throw\\\"Error BitMatrixParser\\\";this.bitMatrix=t,this.parsedVersion=null,this.parsedFormatInfo=null}var i=n(3),o=n(5),a=n(12);e.a=r,r.prototype.copyBit=function(t,e,n){return this.bitMatrix.get_Renamed(t,e)?n<<1|1:n<<1},r.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=i.a.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var r=this.bitMatrix.Dimension;t=0;for(var o=r-8,e=r-1;e>=o;e--)t=this.copyBit(e,8,t);for(var n=r-7;n<r;n++)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=i.a.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw\\\"Error readFormatInformation\\\"},r.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.Dimension,e=t-17>>2;if(e<=6)return o.a.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var a=t-9;a>=r;a--)n=this.copyBit(a,i,n);if(this.parsedVersion=o.a.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;n=0;for(var a=5;a>=0;a--)for(var i=t-9;i>=r;i--)n=this.copyBit(a,i,n);if(this.parsedVersion=o.a.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;throw\\\"Error readVersion\\\"},r.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=a.a.forReference(t.dataMask),r=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),o=!0,s=new Array(e.totalCodewords),h=0,f=0,w=0,u=r-1;u>0;u-=2){6==u&&u--;for(var l=0;l<r;l++)for(var c=o?r-1-l:l,d=0;d<2;d++)i.get_Renamed(u-d,c)||(w++,f<<=1,this.bitMatrix.get_Renamed(u-d,c)&&(f|=1),8==w&&(s[h++]=f,w=0,f=0));o^=!0}if(h!=e.totalCodewords)throw\\\"Error readCodewords\\\";return s}},function(t,e,n){\\\"use strict\\\";function r(t,e){this.numDataCodewords=t,this.codewords=e}e.a=r,r.getDataBlocks=function(t,e,n){if(t.length!=e.totalCodewords)throw\\\"ArgumentException\\\";for(var i=e.getECBlocksForLevel(n),o=0,a=i.getECBlocks(),s=0;s<a.length;s++)o+=a[s].count;for(var h=new Array(o),f=0,w=0;w<a.length;w++)for(var u=a[w],s=0;s<u.count;s++){var l=u.dataCodewords,c=i.ecCodewordsPerBlock+l;h[f++]=new r(l,new Array(c))}for(var d=h[0].codewords.length,p=h.length-1;p>=0;){var g=h[p].codewords.length;if(g==d)break;p--}p++;for(var v=d-i.ecCodewordsPerBlock,m=0,s=0;s<v;s++)for(var w=0;w<f;w++)h[w].codewords[s]=t[m++];for(var w=p;w<f;w++)h[w].codewords[v]=t[m++];for(var b=h[0].codewords.length,s=v;s<b;s++)for(var w=0;w<f;w++){var y=w<p?s:s+1;h[w].codewords[y]=t[m++]}return h}},function(t,e,n){\\\"use strict\\\";function r(t,e,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=t,this.numErrorCorrectionCode=n,e<=9?this.dataLengthMode=0:e>=10&&e<=26?this.dataLengthMode=1:e>=27&&e<=40&&(this.dataLengthMode=2)}var i=n(0);e.a=r,r.prototype.getNextBits=function(t){var e=0;if(t<this.bitPointer+1){for(var n=0,r=0;r<t;r++)n+=1<<r;return n<<=this.bitPointer-t+1,e=(this.blocks[this.blockPointer]&n)>>this.bitPointer-t+1,this.bitPointer-=t,e}if(t<this.bitPointer+1+8){for(var i=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;return e=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1),this.blockPointer++,e+=this.blocks[this.blockPointer]>>8-(t-(this.bitPointer+1)),this.bitPointer=this.bitPointer-t%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}if(t<this.bitPointer+1+16){for(var i=0,o=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;var a=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<t-(this.bitPointer+1+8);this.blockPointer++;for(var r=0;r<t-(this.bitPointer+1+8);r++)o+=1<<r;o<<=8-(t-(this.bitPointer+1+8));var h=(this.blocks[this.blockPointer]&o)>>8-(t-(this.bitPointer+1+8));return e=a+s+h,this.bitPointer=this.bitPointer-(t-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}return 0},r.prototype.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},r.prototype.getDataLength=function(t){for(var e=0;;){if(t>>e==1)break;e++}return this.getNextBits(i.b.sizeOfDataLengthInfo[this.dataLengthMode][e])},r.prototype.getRomanAndFigureString=function(t){var e=t,n=0,r=\\\"\\\",i=[\\\"0\\\",\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"F\\\",\\\"G\\\",\\\"H\\\",\\\"I\\\",\\\"J\\\",\\\"K\\\",\\\"L\\\",\\\"M\\\",\\\"N\\\",\\\"O\\\",\\\"P\\\",\\\"Q\\\",\\\"R\\\",\\\"S\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\" \\\",\\\"$\\\",\\\"%\\\",\\\"*\\\",\\\"+\\\",\\\"-\\\",\\\".\\\",\\\"/\\\",\\\":\\\"];do if(e>1){n=this.getNextBits(11);var o=Math.floor(n/45),a=n%45;r+=i[o],r+=i[a],e-=2}else 1==e&&(n=this.getNextBits(6),r+=i[n],e-=1);while(e>0);return r},r.prototype.getFigureString=function(t){var e=t,n=0,r=\\\"\\\";do e>=3?(n=this.getNextBits(10),n<100&&(r+=\\\"0\\\"),n<10&&(r+=\\\"0\\\"),e-=3):2==e?(n=this.getNextBits(7),n<10&&(r+=\\\"0\\\"),e-=2):1==e&&(n=this.getNextBits(4),e-=1),r+=n;while(e>0);return r},r.prototype.get8bitByteArray=function(t){var e=t,n=0,r=[];do n=this.getNextBits(8),r.push(n),e--;while(e>0);return r},r.prototype.getKanjiString=function(t){var e=t,n=0,r=\\\"\\\";do{n=this.getNextBits(13);var i=n%192,o=n/192,a=(o<<8)+i,s=0;s=a+33088<=40956?a+33088:a+49472,r+=String.fromCharCode(s),e--}while(e>0);return r},Object.defineProperty(r.prototype,\\\"DataByte\\\",{get:function(){for(var t=[],e=1,n=2,r=4,i=8;;){var o=this.NextMode();if(0==o){if(t.length>0)break;throw\\\"Empty data block\\\"}if(o!=e&&o!=n&&o!=r&&o!=i)throw\\\"Invalid mode: \\\"+o+\\\" in (block:\\\"+this.blockPointer+\\\" bit:\\\"+this.bitPointer+\\\")\\\";var a=this.getDataLength(o);if(a<1)throw\\\"Invalid data length: \\\"+a;switch(o){case e:for(var s=this.getFigureString(a),h=new Array(s.length),f=0;f<s.length;f++)h[f]=s.charCodeAt(f);t.push(h);break;case n:for(var s=this.getRomanAndFigureString(a),h=new Array(s.length),f=0;f<s.length;f++)h[f]=s.charCodeAt(f);t.push(h);break;case r:var w=this.get8bitByteArray(a);t.push(w);break;case i:var s=this.getKanjiString(a);t.push(s)}}return t}})},function(t,e,n){\\\"use strict\\\";function r(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(t+e&1)}}function i(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(1&t)}}function o(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return e%3==0}}function a(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return(t+e)%3==0}}function s(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(n.i(u.c)(t,1)+e/3&1)}}function h(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return(1&n)+n%3==0}}function f(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return 0==((1&n)+n%3&1)}}function w(){this.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==((t+e&1)+t*e%3&1)}}var u=n(0),l={};l.forReference=function(t){if(t<0||t>7)throw\\\"System.ArgumentException\\\";return l.DATA_MASKS[t]},l.DATA_MASKS=[new r,new i,new o,new a,new s,new h,new f,new w],e.a=l},function(t,e,n){\\\"use strict\\\";var r=n(18),i=n(1),o=n(9),a=n(10),s=n(11),h={};h.rsDecoder=new r.a(i.a.QR_CODE_FIELD),h.correctErrors=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=255&t[i];var o=t.length-e;try{h.rsDecoder.decode(r,o)}catch(t){throw t}for(var i=0;i<e;i++)t[i]=r[i]},h.decode=function(t){for(var e=new o.a(t),n=e.readVersion(),r=e.readFormatInformation().errorCorrectionLevel,i=e.readCodewords(),f=a.a.getDataBlocks(i,n,r),w=0,u=0;u<f.length;u++)w+=f[u].numDataCodewords;for(var l=new Array(w),c=0,d=0;d<f.length;d++){var p=f[d],g=p.codewords,v=p.numDataCodewords;h.correctErrors(g,v);for(var u=0;u<v;u++)l[c++]=g[u]}var m=new s.a(l,n.versionNumber,r.bits);return m},e.a=h},function(t,e,n){\\\"use strict\\\";function r(t,e,n,r,i,o,a,s,h){this.a11=t,this.a12=r,this.a13=a,this.a21=e,this.a22=i,this.a23=s,this.a31=n,this.a32=o,this.a33=h}function i(t,e){this.bits=t,this.points=e}function o(t){this.image=t,this.resultPointCallback=null}var a=n(5),s=n(8),h=n(17),f=n(16);e.a=o,r.prototype.transformPoints1=function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,h=this.a31,f=this.a32,w=this.a33,u=0;u<e;u+=2){var l=t[u],c=t[u+1],d=i*l+s*c+w;t[u]=(n*l+o*c+h)/d,t[u+1]=(r*l+a*c+f)/d}},r.prototype.transformPoints2=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[r],a=this.a13*i+this.a23*o+this.a33;t[r]=(this.a11*i+this.a21*o+this.a31)/a,e[r]=(this.a12*i+this.a22*o+this.a32)/a}},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(t){return new r(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},r.quadrilateralToQuadrilateral=function(t,e,n,r,i,o,a,s,h,f,w,u,l,c,d,p){var g=this.quadrilateralToSquare(t,e,n,r,i,o,a,s),v=this.squareToQuadrilateral(h,f,w,u,l,c,d,p);return v.times(g)},r.squareToQuadrilateral=function(t,e,n,i,o,a,s,h){var f=h-a,w=e-i+a-h;if(0==f&&0==w)return new r(n-t,o-n,t,i-e,a-i,e,0,0,1);\\nvar u=n-o,l=s-o,c=t-n+o-s,d=i-a,p=u*f-l*d,g=(c*f-l*w)/p,v=(u*w-c*d)/p;return new r(n-t+g*n,s-t+v*s,t,i-e+g*i,h-e+v*h,e,g,v,1)},r.quadrilateralToSquare=function(t,e,n,r,i,o,a,s){return this.squareToQuadrilateral(t,e,n,r,i,o,a,s).buildAdjoint()},o.prototype.sizeOfBlackWhiteBlackRun=function(t,e,n,r){var i=Math.abs(r-e)>Math.abs(n-t);if(i){var o=t;t=e,e=o,o=n,n=r,r=o}for(var a=Math.abs(n-t),s=Math.abs(r-e),h=-a>>1,f=e<r?1:-1,w=t<n?1:-1,u=0,l=t,c=e;l!=n;l+=w){var d=i?c:l,p=i?l:c;if(1==u?this.image.data[d+p*this.image.width]&&u++:this.image.data[d+p*this.image.width]||u++,3==u){var g=l-t,v=c-e;return Math.sqrt(g*g+v*v)}if(h+=s,h>0){if(c==r)break;c+=f,h-=a}}var m=n-t,b=r-e;return Math.sqrt(m*m+b*b)},o.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,n,r){var i=this.sizeOfBlackWhiteBlackRun(t,e,n,r),o=1,a=t-(n-t);a<0?(o=t/(t-a),a=0):a>=this.image.width&&(o=(this.image.width-1-t)/(a-t),a=this.image.width-1);var s=Math.floor(e-(r-e)*o);return o=1,s<0?(o=e/(e-s),s=0):s>=this.image.height&&(o=(this.image.height-1-e)/(s-e),s=this.image.height-1),a=Math.floor(t+(a-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,e,a,s),i-1},o.prototype.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},o.prototype.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},o.prototype.distance=function(t,e){var n=t.X-e.X,r=t.Y-e.Y;return Math.sqrt(n*n+r*r)},o.prototype.computeDimension=function(t,e,n,r){var i=Math.round(this.distance(t,e)/r),o=Math.round(this.distance(t,n)/r),a=(i+o>>1)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw\\\"Error\\\"}return a},o.prototype.findAlignmentInRegion=function(t,e,n,r){var i=Math.floor(r*t),o=Math.max(0,e-i),a=Math.min(this.image.width-1,e+i);if(a-o<3*t)throw\\\"Error\\\";var h=Math.max(0,n-i),f=Math.min(this.image.height-1,n+i),w=new s.a(this.image,o,h,a-o,f-h,t,this.resultPointCallback);return w.find()},o.prototype.createTransform=function(t,e,n,i,o){var a,s,h,f,w=o-3.5;null!=i?(a=i.X,s=i.Y,h=f=w-3):(a=e.X-t.X+n.X,s=e.Y-t.Y+n.Y,h=f=w);var u=r.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,h,f,3.5,w,t.X,t.Y,e.X,e.Y,a,s,n.X,n.Y);return u},o.prototype.sampleGrid=function(t,e,n){var r=h.a;return r.sampleGrid3(t,n,e)},o.prototype.processFinderPatternInfo=function(t){var e=t.topLeft,n=t.topRight,r=t.bottomLeft,o=this.calculateModuleSize(e,n,r);if(o<1)throw\\\"Error\\\";var s=this.computeDimension(e,n,r,o),h=a.a.getProvisionalVersionForDimension(s),f=h.DimensionForVersion-7,w=null;if(h.alignmentPatternCenters.length>0)for(var u=n.X-e.X+r.X,l=n.Y-e.Y+r.Y,c=1-3/f,d=Math.floor(e.X+c*(u-e.X)),p=Math.floor(e.Y+c*(l-e.Y)),g=4;g<=16;g<<=1){w=this.findAlignmentInRegion(o,d,p,g);break}var v,m=this.createTransform(e,n,r,w,s),b=this.sampleGrid(this.image,m,s);return v=null==w?[r,e,n]:[r,e,n,w],new i(b,v)},o.prototype.detect=function(){var t=(new f.a).findFinderPattern(this.image);return this.processFinderPatternInfo(t)}},function(t,e,n){\\\"use strict\\\";function r(t,e,n){this.ordinal_Renamed_Field=t,this.bits=e,this.name=n}e.a=r,r.prototype.ordinal=function(){return this.ordinal_Renamed_Field},r.forBits=function(t){if(t<0||t>=i.length)throw\\\"ArgumentException\\\";return i[t]};var i=[new r(1,0,\\\"M\\\"),new r(0,1,\\\"L\\\"),new r(3,2,\\\"H\\\"),new r(2,3,\\\"Q\\\")]},function(t,e,n){\\\"use strict\\\";function r(t){function e(t,e){var n=t.X-e.X,r=t.Y-e.Y;return Math.sqrt(n*n+r*r)}function n(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)}var r,i,o,a=e(t[0],t[1]),s=e(t[1],t[2]),h=e(t[0],t[2]);if(s>=a&&s>=h?(i=t[0],r=t[1],o=t[2]):h>=s&&h>=a?(i=t[1],r=t[0],o=t[2]):(i=t[2],r=t[0],o=t[1]),n(r,i,o)<0){var f=r;r=o,o=f}t[0]=r,t[1]=i,t[2]=o}function i(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n}function o(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}function a(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=[0,0,0,0,0],this.resultPointCallback=null}e.a=a;var s=3,h=57,f=8,w=2;Object.defineProperty(i.prototype,\\\"X\\\",{get:function(){return this.x}}),Object.defineProperty(i.prototype,\\\"Y\\\",{get:function(){return this.y}}),i.prototype.incrementCount=function(){this.count++},i.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r/this.estimatedModuleSize<=1}return!1},Object.defineProperty(a.prototype,\\\"CrossCheckStateCount\\\",{get:function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}}),a.prototype.foundPatternCross=function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0==r)return!1;e+=r}if(e<7)return!1;var i=Math.floor((e<<f)/7),o=Math.floor(i/2);return Math.abs(i-(t[0]<<f))<o&&Math.abs(i-(t[1]<<f))<o&&Math.abs(3*i-(t[2]<<f))<3*o&&Math.abs(i-(t[3]<<f))<o&&Math.abs(i-(t[4]<<f))<o},a.prototype.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},a.prototype.crossCheckVertical=function(t,e,n,r){for(var i=this.image,o=i.height,a=this.CrossCheckStateCount,s=t;s>=0&&i.data[e+s*i.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.data[e+s*i.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i.data[e+s*i.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=t+1;s<o&&i.data[e+s*i.width];)a[2]++,s++;if(s==o)return NaN;for(;s<o&&!i.data[e+s*i.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return NaN;for(;s<o&&i.data[e+s*i.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-r)>=2*r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},a.prototype.crossCheckHorizontal=function(t,e,n,r){for(var i=this.image,o=i.width,a=this.CrossCheckStateCount,s=t;s>=0&&i.data[s+e*i.width];)a[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.data[s+e*i.width]&&a[1]<=n;)a[1]++,s--;if(s<0||a[1]>n)return NaN;for(;s>=0&&i.data[s+e*i.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return NaN;for(s=t+1;s<o&&i.data[s+e*i.width];)a[2]++,s++;if(s==o)return NaN;for(;s<o&&!i.data[s+e*i.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return NaN;for(;s<o&&i.data[s+e*i.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-r)>=r?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},a.prototype.handlePossibleCenter=function(t,e,n){var r=t[0]+t[1]+t[2]+t[3]+t[4],o=this.centerFromEnd(t,n),a=this.crossCheckVertical(e,Math.floor(o),t[2],r);if(!isNaN(a)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(a),t[2],r),!isNaN(o))){for(var s=r/7,h=!1,f=this.possibleCenters.length,w=0;w<f;w++){var u=this.possibleCenters[w];if(u.aboutEquals(s,a,o)){u.incrementCount(),h=!0;break}}if(!h){var l=new i(o,a,s);this.possibleCenters.push(l),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(l)}return!0}return!1},a.prototype.selectBestPatterns=function(){var t=this.possibleCenters.length;if(t<3)throw\\\"Couldn't find enough finder patterns:\\\"+t+\\\" patterns found\\\";if(t>3){for(var e=0,n=0,r=0;r<t;r++){var i=this.possibleCenters[r].estimatedModuleSize;e+=i,n+=i*i}var o=e/t;this.possibleCenters.sort(function(t,e){var n=Math.abs(e.estimatedModuleSize-o),r=Math.abs(t.estimatedModuleSize-o);return n<r?-1:n==r?0:1});for(var a=Math.sqrt(n/t-o*o),s=Math.max(.2*o,a),r=this.possibleCenters-1;r>=0;r--){var h=this.possibleCenters[r];Math.abs(h.estimatedModuleSize-o)>s&&this.possibleCenters.splice(r,1)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(t,e){return t.count>e.count?-1:t.count<e.count?1:0}),[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]},a.prototype.findRowSkip=function(){var t=this.possibleCenters.length;if(t<=1)return 0;for(var e=null,n=0;n<t;n++){var r=this.possibleCenters[n];if(r.count>=w){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.X-r.X)-Math.abs(e.Y-r.Y))/2);e=r}}return 0},a.prototype.haveMultiplyConfirmedCenters=function(){for(var t=0,e=0,n=this.possibleCenters.length,r=0;r<n;r++){var i=this.possibleCenters[r];i.count>=w&&(t++,e+=i.estimatedModuleSize)}if(t<3)return!1;for(var o=e/n,a=0,r=0;r<n;r++)i=this.possibleCenters[r],a+=Math.abs(i.estimatedModuleSize-o);return a<=.05*e},a.prototype.findFinderPattern=function(t){var e=!1;this.image=t;var n=t.height,i=t.width,a=Math.floor(3*n/(4*h));(a<s||e)&&(a=s);for(var f=!1,w=new Array(5),u=a-1;u<n&&!f;u+=a){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;for(var l=0,c=0;c<i;c++)if(t.data[c+u*t.width])1==(1&l)&&l++,w[l]++;else if(0==(1&l))if(4==l)if(this.foundPatternCross(w)){var d=this.handlePossibleCenter(w,u,c);if(d)if(a=2,this.hasSkipped)f=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>w[2]&&(u+=p-w[2]-a,c=i-1)}else{do c++;while(c<i&&!t.data[c+u*t.width]);c--}l=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,l=3;else w[++l]++;else w[l]++;if(this.foundPatternCross(w)){var d=this.handlePossibleCenter(w,u,i);d&&(a=w[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return r(g),new o(g)}},function(t,e,n){\\\"use strict\\\";var r=n(2),i={};i.checkAndNudgePoints=function(t,e){for(var n=t.width,r=t.height,i=!0,o=0;o<e.length&&i;o+=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw\\\"Error.checkAndNudgePoints \\\";i=!1,a==-1?(e[o]=0,i=!0):a==n&&(e[o]=n-1,i=!0),s==-1?(e[o+1]=0,i=!0):s==r&&(e[o+1]=r-1,i=!0)}i=!0;for(var o=e.length-2;o>=0&&i;o-=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw\\\"Error.checkAndNudgePoints \\\";i=!1,a==-1?(e[o]=0,i=!0):a==n&&(e[o]=n-1,i=!0),s==-1?(e[o+1]=0,i=!0):s==r&&(e[o+1]=r-1,i=!0)}},i.sampleGrid3=function(t,e,n){for(var o=new r.a(e),a=new Array(e<<1),s=0;s<e;s++){for(var h=a.length,f=s+.5,w=0;w<h;w+=2)a[w]=(w>>1)+.5,a[w+1]=f;n.transformPoints1(a),i.checkAndNudgePoints(t,a);try{for(var w=0;w<h;w+=2){var u=t.data[Math.floor(a[w])+t.width*Math.floor(a[w+1])];u&&o.set_Renamed(w>>1,s)}}catch(t){throw\\\"Error.checkAndNudgePoints\\\"}}return o},e.a=i},function(t,e,n){\\\"use strict\\\";function r(t){this.field=t}var i=n(1),o=n(4);e.a=r,r.prototype.decode=function(t,e){for(var n=new o.a(this.field,t),r=new Array(e),a=0;a<r.length;a++)r[a]=0;for(var s=!1,h=!0,a=0;a<e;a++){var f=n.evaluateAt(this.field.exp(s?a+1:a));r[r.length-1-a]=f,0!=f&&(h=!1)}if(!h)for(var w=new o.a(this.field,r),u=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),w,e),l=u[0],c=u[1],d=this.findErrorLocations(l),p=this.findErrorMagnitudes(c,d,s),a=0;a<d.length;a++){var g=t.length-1-this.field.log(d[a]);if(g<0)throw\\\"ReedSolomonException Bad error location\\\";t[g]=i.a.addOrSubtract(t[g],p[a])}},r.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.Degree<e.Degree){var r=t;t=e,e=r}for(var i=t,o=e,a=this.field.One,s=this.field.Zero,h=this.field.Zero,f=this.field.One;o.Degree>=Math.floor(n/2);){var w=i,u=a,l=h;if(i=o,a=s,h=f,i.Zero)throw\\\"r_{i-1} was zero\\\";o=w;for(var c=this.field.Zero,d=i.getCoefficient(i.Degree),p=this.field.inverse(d);o.Degree>=i.Degree&&!o.Zero;){var g=o.Degree-i.Degree,v=this.field.multiply(o.getCoefficient(o.Degree),p);c=c.addOrSubtract(this.field.buildMonomial(g,v)),o=o.addOrSubtract(i.multiplyByMonomial(g,v))}s=c.multiply1(a).addOrSubtract(u),f=c.multiply1(h).addOrSubtract(l)}var m=f.getCoefficient(0);if(0==m)throw\\\"ReedSolomonException sigmaTilde(0) was zero\\\";var b=this.field.inverse(m),y=f.multiply2(b),C=o.multiply2(b);return[y,C]},r.prototype.findErrorLocations=function(t){var e=t.Degree;if(1==e)return new Array(t.getCoefficient(1));for(var n=new Array(e),r=0,i=1;i<256&&r<e;i++)0==t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!=e)throw\\\"Error locator degree does not match number of roots\\\";return n},r.prototype.findErrorMagnitudes=function(t,e,n){for(var r=e.length,o=new Array(r),a=0;a<r;a++){for(var s=this.field.inverse(e[a]),h=1,f=0;f<r;f++)a!=f&&(h=this.field.multiply(h,i.a.addOrSubtract(1,this.field.multiply(e[f],s))));o[a]=this.field.multiply(t.evaluateAt(s),this.field.inverse(h)),n&&(o[a]=this.field.multiply(o[a],s))}return o}},function(t,e,n){(function(t){t={};var e=n(6).default,r=new e;r.callback=function(t,e){postMessage({result:t,err:e})},onmessage=function(t){var e=t.data;r.decode(e)}}).call(e,n(7)(t))}]);\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/raw-loader!./src/browser/worker.min.js\n// module id = 3\n// module chunks = 0"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0],\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  // FIXME: for RTX there might be multiple SSRCs. Not implemented in Edge yet.\n  if (transceiver.rtpSender) {\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sdp/sdp.js\n// module id = 4\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var logging = require('./utils').log;\n  var browserDetails = require('./utils').browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = require('./utils').extractVersion;\n  module.exports.disableLog = require('./utils').disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'opera': // fallthrough as it uses chrome shims\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/adapter_core.js\n// module id = 5\n// module chunks = 0","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      // Translate iceTransportPolicy to iceTransports,\n      // see https://code.google.com/p/webrtc/issues/detail?id=4869\n      logging('PeerConnection');\n      if (pcConfig && pcConfig.iceTransportPolicy) {\n        pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n      }\n\n      var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      var origGetStats = pc.getStats.bind(pc);\n      pc.getStats = function(selector, successCallback, errorCallback) {\n        var self = this;\n        var args = arguments;\n\n        // If selector is a function then we are in the old style stats so just\n        // pass back the original getStats format to avoid breaking old users.\n        if (arguments.length > 0 && typeof selector === 'function') {\n          return origGetStats(selector, successCallback);\n        }\n\n        var fixChromeStats_ = function(response) {\n          var standardReport = {};\n          var reports = response.result();\n          reports.forEach(function(report) {\n            var standardStats = {\n              id: report.id,\n              timestamp: report.timestamp,\n              type: report.type\n            };\n            report.names().forEach(function(name) {\n              standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n          });\n\n          return standardReport;\n        };\n\n        // shim getStats with maplike support\n        var makeMapStats = function(stats, legacyStats) {\n          var map = new Map(Object.keys(stats).map(function(key) {\n            return[key, stats[key]];\n          }));\n          legacyStats = legacyStats || stats;\n          Object.keys(legacyStats).forEach(function(key) {\n            map[key] = legacyStats[key];\n          });\n          return map;\n        };\n\n        if (arguments.length >= 2) {\n          var successCallbackWrapper_ = function(response) {\n            args[1](makeMapStats(fixChromeStats_(response)));\n          };\n\n          return origGetStats.apply(this, [successCallbackWrapper_,\n              arguments[0]]);\n        }\n\n        // promise-support\n        return new Promise(function(resolve, reject) {\n          if (args.length === 1 && typeof selector === 'object') {\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response)));\n              }, reject]);\n          } else {\n            // Preserve legacy chrome stats only on legacy access of stats obj\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response),\n                    response.result()));\n              }, reject]);\n          }\n        }).then(successCallback, errorCallback);\n      };\n\n      return pc;\n    };\n    window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n\n    // wrap static methods. Currently just generateCertificate.\n    if (webkitRTCPeerConnection.generateCertificate) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return webkitRTCPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = webkitRTCPeerConnection.prototype[method];\n      webkitRTCPeerConnection.prototype[method] = function() {\n        var self = this;\n        if (arguments.length < 1 || (arguments.length === 1 &&\n            typeof arguments[0] === 'object')) {\n          var opts = arguments.length === 1 ? arguments[0] : undefined;\n          return new Promise(function(resolve, reject) {\n            nativeMethod.apply(self, [resolve, reject, opts]);\n          });\n        }\n        return nativeMethod.apply(this, arguments);\n      };\n    });\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = webkitRTCPeerConnection.prototype[method];\n            webkitRTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = webkitRTCPeerConnection.prototype[method];\n          webkitRTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/chrome/chrome_shim.js\n// module id = 6\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar logging = require('../utils.js').log;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/chrome/getusermedia.js\n// module id = 7\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar browserDetails = require('../utils').browserDetails;\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed.\n      var origMSTEnabled = Object.getOwnPropertyDescriptor(\n          MediaStreamTrack.prototype, 'enabled');\n      Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n        set: function(value) {\n          origMSTEnabled.set.call(this, value);\n          var ev = new Event('enabled');\n          ev.enabled = value;\n          this.dispatchEvent(ev);\n        }\n      });\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          case 'none':\n            // FIXME: remove once implementation and spec have added this.\n            throw new TypeError('iceTransportPolicy \"none\" not supported');\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        // Edge does not like\n        // 1) stun:\n        // 2) turn: that does not have all of turn:host:port?transport=udp\n        // 3) turn: with ipv6 addresses\n        var iceServers = JSON.parse(JSON.stringify(config.iceServers));\n        this.iceOptions.iceServers = iceServers.filter(function(server) {\n          if (server && server.urls) {\n            var urls = server.urls;\n            if (typeof urls === 'string') {\n              urls = [urls];\n            }\n            urls = urls.filter(function(url) {\n              return (url.indexOf('turn:') === 0 &&\n                  url.indexOf('transport=udp') !== -1 &&\n                  url.indexOf('turn:[') === -1) ||\n                  (url.indexOf('stun:') === 0 &&\n                    browserDetails.version >= 14393);\n            })[0];\n            return !!urls;\n          }\n          return false;\n        });\n      }\n      this._config = config;\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else if (event.candidate.candidate.indexOf('typ endOfCandidates')\n            === -1) {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete) {\n            self.iceGatheringState = 'complete';\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.getConfiguration = function() {\n      return this._config;\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      this.localStreams.push(clonedStream);\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate) {\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels,\n                    rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n\n              // Emit a candidate with type endOfCandidates to make the samples\n              // work. Edge requires addIceCandidate with this empty candidate\n              // to start checking. The real solution is to signal\n              // end-of-candidates to the other side when getting the null\n              // candidate but some apps (like the samples) don't do that.\n              event.candidate.candidate =\n                  'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates';\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (event.candidate.candidate.indexOf('typ endOfCandidates')\n                === -1) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n\n            var complete = self.transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                self._localIceCandidatesBuffer.push(event);\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                self.dispatchEvent(event);\n                if (self.onicecandidate !== null) {\n                  self.onicecandidate(event);\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        // remove RTX field in Edge 14942\n        if (transceiver.kind === 'video'\n            && transceiver.recvEncodingParameters) {\n          transceiver.recvEncodingParameters.forEach(function(p) {\n            delete p.rtx;\n          });\n        }\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                  .map(function(cand) {\n                    return SDPUtils.parseCandidate(cand);\n                  })\n                  .filter(function(cand) {\n                    return cand.component === '1';\n                  });\n                  // ice-lite only includes host candidates in the SDP so we can\n                  // use setRemoteCandidates (which implies an\n                  // RTCIceCandidateComplete)\n                  if (cands.length) {\n                    iceTransport.setRemoteCandidates(cands);\n                  }\n                }\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\n              // filter RTX until additional stuff needed for RTX is implemented\n              // in adapter.js\n              localCapabilities.codecs = localCapabilities.codecs.filter(\n                  function(codec) {\n                    return codec.name !== 'rtx';\n                  });\n\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n\n              track = rtpReceiver.track;\n              receiverList.push([track, rtpReceiver]);\n              // FIXME: not correct when there are multiple streams but that is\n              // not currently supported in this shim.\n              stream.addTrack(track);\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(event);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n        localCapabilities.codecs.forEach(function(codec) {\n          // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n          // by adding level-asymmetry-allowed=1\n          if (codec.name === 'H264' &&\n              codec.parameters['level-asymmetry-allowed'] === undefined) {\n            codec.parameters['level-asymmetry-allowed'] = '1';\n          }\n        });\n\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (!candidate) {\n        this.transceivers.forEach(function(transceiver) {\n          transceiver.iceTransport.addRemoteCandidate({});\n        });\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return;\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return;\n          }\n          // A dirty hack to make samples work.\n          if (cand.type === 'endOfCandidates') {\n            cand = {};\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              results.set(id, result[id]);\n              results[id] = result[id];\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/edge/edge_shim.js\n// module id = 8\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/edge/getusermedia.js\n// module id = 9\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar browserDetails = require('../utils').browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    if (browserDetails.version < 48) {\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        var map = new Map();\n        Object.keys(stats).forEach(function(key) {\n          map.set(key, stats[key]);\n          map[key] = stats[key];\n        });\n        return map;\n      };\n\n      var nativeGetStats = RTCPeerConnection.prototype.getStats;\n      RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n        return nativeGetStats.apply(this, [selector || null])\n          .then(function(stats) {\n            return makeMapStats(stats);\n          })\n          .then(onSucc, onErr);\n      };\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/firefox/firefox_shim.js\n// module id = 10\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logging = require('../utils').log;\nvar browserDetails = require('../utils').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/firefox/getusermedia.js\n// module id = 11\n// module chunks = 0","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    navigator.getUserMedia = navigator.webkitGetUserMedia;\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webrtc-adapter/src/js/safari/safari_shim.js\n// module id = 12\n// module chunks = 0","function QRScanner() {\r\n  var createQRScannerAdapter = require('../../common/src/createQRScannerAdapter.js');\r\n  var createQRScannerInternal = require('./createQRScannerInternal.js');\r\n\r\n  var internal = createQRScannerInternal();\r\n  var functionList = {\r\n      prepare: internal.prepare,\r\n      show: internal.show,\r\n      hide: internal.hide,\r\n      scan: internal.scan,\r\n      cancelScan: internal.cancelScan,\r\n      pausePreview: internal.pausePreview,\r\n      resumePreview: internal.resumePreview,\r\n      enableLight: internal.enableLight,\r\n      disableLight: internal.disableLight,\r\n      useCamera: internal.useCamera,\r\n      openSettings: internal.openSettings,\r\n      getStatus: internal.getStatus,\r\n      destroy: internal.destroy\r\n  };\r\n\r\n  // always returns an executable function for use by the internal component\r\n  // if a callback is provided, use it\r\n  function getFunc(callback){\r\n    if(typeof callback === \"function\"){\r\n      return callback;\r\n    }\r\n    return function(){\r\n      // callback is not needed\r\n      return;\r\n    };\r\n  }\r\n\r\n  // shim cordova's functionality for library usage\r\n  var shimCordova = {\r\n    exec: function(successCallback, errorCallback, className, functionName, inputArray){\r\n      if(className !== 'QRScanner' || !functionList[functionName]){\r\n        return errorCallback(0);\r\n      }\r\n      if(inputArray){\r\n        functionList[functionName](getFunc(successCallback), getFunc(errorCallback), inputArray);\r\n      } else {\r\n        functionList[functionName](getFunc(successCallback), getFunc(errorCallback));\r\n      }\r\n    }\r\n  };\r\n\r\n  var adapter = createQRScannerAdapter(shimCordova);\r\n  return adapter;\r\n}\r\n\r\nmodule.exports = new QRScanner();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/browser/src/library.js\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}